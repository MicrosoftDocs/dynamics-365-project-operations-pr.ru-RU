---
title: Управление счетом-проформой на основе проектов
description: В этой теме содержится информация о том, как управлять и работать со счетами-проформами на основе проектов.
author: rumant
manager: Annbe
ms.date: 04/05/2021
ms.topic: article
ms.service: project-operations
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 9fd357648f8166cbcbe91ca1922739585f9fcfa9
ms.sourcegitcommit: ca0fc078d1a12484eca193fe051b8442c0559db8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/07/2021
ms.locfileid: "5867237"
---
# <a name="manage-a-proforma-project-based-invoice"></a>Управление счетом-проформой на основе проектов

_**Относится к:** Project Operations для сценариев на основе ресурсов/без запасов_

В Dynamics 365 Project Operations счета-проформы создаются как расширение счетов в Dynamics 365 Sales. Однако существует много различий в процессе выставления счетов между Sales и Project Operations, когда дело касается выставления счетов. Например, невозможно создать новый счет со страницы **Список счетов** в Project Operations, но это можно сделать в Sales. Эти различия и расширения предназначены для поддержки процессов выставления счетов для проектов, которые отличаются от типичных счетов для заказа на продажу.

> [!IMPORTANT]
> Из-за различий не используйте счета в Sales и Project Operations как взаимозаменяемые.

## <a name="invoice-header"></a>Заголовок счета

Следующая информация доступна в заголовке счета-проформы в Project Operations.

| Поле | Местонахождение | Описание |
| --- | --- | --- | 
| **Номер счета** | Вкладка **Сводка** | Идентификатор, который создается автоматически при создании счета-проформы. Поле только для чтения, редактирование которого запрещено. Это поле используется в качестве ссылки для каждой счета-проформы. |
| **Название** | Вкладка **Сводка** | По умолчанию используется имя контракта по проекту. Поле можно изменить. | 
| **Валюта** | Вкладка **Сводка** | По умолчанию используется валюта контракта по проекту. Поле только для чтения, редактирование которого запрещено. |
| **Прайс-лист** | Вкладка **Сводка** | По умолчанию используется прайс-лист контракта по проекту. Поле только для чтения, редактирование которого запрещено. | 
| **Возможная сделка** | Вкладка **Сводка** | Ссылка на связанную возможную сделку. Поле только для чтения, редактирование которого запрещено. | 
| **Контракт** | Вкладка **Сводка** | Ссылка на связанный контракт по проекту. Поле только для чтения, редактирование которого запрещено. | 
| **Клиент** | Вкладка **Сводка** | Ссылка на связанный контракт по проекту. Поле только для чтения, редактирование которого запрещено. |
| **Описание** | Вкладка **Сводка** | Текстовое поле, описывающее счет. Поле можно изменить. | 
| **Плательщик** и связанные поля | **Вкладка сводки** | Значения по умолчанию устанавливаются из заказчика контракта по проекту. Поле можно изменить.  | 
| **Состояние** | Вкладка **Сводка** | Устанавливает следующие параметры: **Активный**, **Закрыто**, **Оплачено** и **Отменено**, его можно редактировать. Неподдерживаемые статусы для Project Operations включают **Закрыто** и **Отменено**. </br> Статус установлен на **Активно** при создании счета. </br>Статус должен быть установлен на **Оплачено** только после подтверждения счета.  | 
| **Состояние счета проекта** | Вкладка **Сводка** | Устанавливает следующие параметры: **Черновик**, **На проверке** и **Подтверждено**, его можно редактировать. В обоих статусах **Черновик** и **На проверке** счет можно редактировать. После подтверждения счета его нельзя редактировать. | 
| **Стоимость составляющих** | Вкладка **Сводка** | Сумма сумм по всем строкам счета после авансов и удержаний. Поле только для чтения, редактирование которого запрещено.  Это поле используется для расчета окончательной суммы. | 
| **Скидка (%)** | Вкладка **Сводка** | Это поле можно отредактировать, чтобы ввести процент скидки. Это поле не поддерживается функциями Project Operations. Это поле не поддерживается.|  
| **Сумма скидки** | Вкладка **Сводка** | Это поле можно отредактировать, чтобы ввести сумму скидки. Это поле не поддерживается функциями Project Operations. Это поле не поддерживается. |  
| **Стоимость без поставки** | **Вкладка сводки** | Общая сумма счета после применения скидок. Поле только для чтения, редактирование которого запрещено. Это поле используется для расчета окончательной суммы.  | 
| **Стоимость поставки** | Вкладка **Сводка** | Это поле можно отредактировать, чтобы ввести стоимость поставки. Это поле не поддерживается функциями Project Operations. Это поле не поддерживается. |
| **Итого налогов** | Вкладка **Сводка** | Общая сумма налога по всем строкам накладной в накладной. Поле только для чтения, редактирование которого запрещено. | 
| **Итоговая сумма** | Вкладка **Сводка** | Сумма суммы без учета скидок и налогов. Сумма — это сумма, которую клиент должен заплатить. | 

## <a name="project-based-invoice-lines"></a>Строки счета на основе проектов

В Project Operations всегда есть одна строка счета для каждой строки контракта по проекту. Строка счета создается даже при отсутствии фактических данных. Следующая информация доступна в строке счета-проформы.

| Поле | Местонахождение | Описание | 
| --- | --- | --- |
| **Номер счета** | Вкладка **Общие сведения** | Ссылка на идентификатор счета. Поле только для чтения, редактирование которого запрещено. Ссылку на идентификатор счета можно использовать для возврата к заголовку счета. | 
| **Название** | Вкладка **Общие сведения** | Имя строки счета, установленное по умолчанию из имени строки контракта. Поле можно изменить. |
| **Project** | Вкладка **Общие сведения** | Проект по соответствующей строке контракта по проекту. Поле только для чтения, редактирование которого запрещено. Ссылку на проект можно использовать для перехода к проекту. | 
| **Метод выставления счета** | Вкладка **Общие сведения** | Метод выставления счета по соответствующей строке контракта по проекту. Поле только для чтения, редактирование которого запрещено. |
| **Сумма строки контракта** | Вкладка **Общие сведения** | Сумма контракта в соответствующей строке контракта по проекту. Поле только для чтения, редактирование которого запрещено. | 
| **Счет выставлен до даты** | Вкладка **Общие сведения** | Сумма сумм во всех деталях строки счета для этого счета. Поле только для чтения, редактирование которого запрещено. | 
| **Сумма** | Вкладка **Общие сведения** | Сумма сумм во всех деталях оплачиваемой строки счета для этого счета. Поле только для чтения, редактирование которого запрещено. Это поле используется для расчета окончательной суммы в заголовке счета. | 
| **Налог** | Вкладка **Общие сведения** | Сумма сумм всех налогов во всех деталях строки счета для этой строки счета. Поле только для чтения, редактирование которого запрещено. Это поле используется для расчета окончательной суммы налогов в заголовке счета. | 
| **Полная сумма** | Вкладка **Общие сведения** | Сумма итоговых сумм (**Налог + Суммы**) во всех оплачиваемых деталях строки счета для этой строки счета. Поле только для чтения, редактирование которого запрещено. Это поле используется для расчета окончательной суммы в заголовке счета. |

## <a name="invoice-line-details"></a>Сведения строки счета

Каждая строка счета в счете по проекту включает детали строки счета. Эти детали строки связаны с фактическими продажами и контрольными точками с невыставленными счетами, которые относятся к строке контракта, на которую ссылается строка контракта по строке счета. Все эти транзакции отмечены **Готово к выставлению счета**.

Для строки **Счет за время и материалы** сведения строки счета сгруппированы в **Оплачивается**, **Не оплачивается** и **Бесплатный** на странице **Строка счета**. Детали **Оплачиваемая строка счета** складываются в итоговую сумму строки счета. **Бесплатный** и **Не подлежащие оплате фактические данные** не добавляются к итоговой сумме строки счета.

Для строки **Счет с фиксированной ценой** сведения строки счета создаются из вех, отмеченных как **Готово к выставлению счета** в соответствующей строке контракта. После создания деталей строки счета из вехи статус выставления счетов в вехе обновляется на **Создан счет клиента**.

### <a name="edit-invoice-line-details"></a>Редактирование деталей строки счета

Следующие поля доступны в деталях строки счета, которые подкреплены невыплаченными фактическими данными продаж.

| Поле | Описание |
| --- | --- | 
| **Строка счета** | Ссылка на **Идентификатор строки счета**. Это поле доступно только для чтения и заблокировано для редактирования. Эту ссылку можно использовать для возврата к заголовку счета. | 
| **Описание** | Описание деталей строки счета. Устанавливается по умолчанию из поля **Внутренние комментарии** на **Запись времени**, и из поля **Описание** на **Запись расходов**. Поле можно изменить.| 
| **Внешнее описание** | Описание деталей строки счета. Устанавливается по умолчанию из поля **Внешние комментарии** на **Запись времени**, и из поля **Описание** на **Запись расходов**. Поле можно изменить. Это описание может использоваться для определения того, что должно быть в распечатанном счете, который будет отправлен клиенту. В Project Operations счет-проформа не имеет всех необходимых функций для настройки параметров печати для счета. | 
| **Дата начала** | Это поле только для чтения, оно задается по умолчанию из фактических данных источника. |
| **Project** | Это поле только для чтения, которое задается по умолчанию из источника фактических данных в проекте в соответствующей строке контракта. |  
| **Задача** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. |
| **Категория проводки** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. | 
| **Роль** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. |  
| **Резервируемый ресурс** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. | 
| **Компания распределения ресурсов** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. | 
| **Единица распределения ресурсов** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. | 
| **Количество** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. |  
| **Группа единиц измерения** | Для деталей строки счета для времени это всегда устанавливается на время, и его нельзя изменить. Для расходов это устанавливается по умолчанию из фактических данных расходов источника. Поле только для чтения, редактирование которого запрещено. | 
| **Единица** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. |  
| **Цена** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. |
| **Валюта** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. | 
| **Сумма** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. | 
| **Налог** | Устанавливается по умолчанию из исходных фактических данных. Поле можно изменить.| 
| **Полная сумма** | Вычисляемое поле, рассчитываемое как **Сумма + Налог**. Поле только для чтения, редактирование которого запрещено. | 
| **Тип выставления счетов** | Устанавливается по умолчанию из исходных фактических данных. Поле можно изменить. Выбор **Оплачивается** добавляет строку к итоговой сумме строк счета. **Бесплатный** и **Не оплачивается** исключит ее из итоговой суммы строк счета.| 
| **Выбрать продукт** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. |
| **Товар** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. | 
| **Название продукта** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. |  
| **Описание вписанного** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. |
| **Тип проводки** | Это поле только для чтения, оно задается по умолчанию из фактических данных источника как **Продажи с выставлением счета**. |  
| **Класс проводки** | Устанавливается по умолчанию из исходных фактических данных. Поле только для чтения, редактирование которого запрещено. | 

Следующие поля доступны в деталях строки счета, которые подкреплены вехой.

| Поле | Описание |
| --- | --- | 
| **Строка счета** | Ссылка на **Идентификатор строки счета**. Поле только для чтения, редактирование которого запрещено. Эту ссылку можно использовать для возврата к заголовку счета.  | 
| **Описание** | Описание деталей строки счета. Устанавливается по умолчанию из описания исходной вехи. | 
|**Внешнее описание** | Описание деталей строки счета, которые устанавливаются по умолчанию из описания исходной вехи. Это поле может использоваться для определения того, что должно быть в распечатанном счете, который будет отправлен клиенту. Счет-проформа в Project Operations не имеет всех необходимых функций для настройки параметров печати для счета. | 
| **Дата начала** | Устанавливается по умолчанию из даты **Веха** в исходной вехе. Поле только для чтения, редактирование которого запрещено. | 
| **Project** | Устанавливается по умолчанию из исходной вехи. Поле только для чтения, редактирование которого запрещено. |
| **Задача** | Устанавливается по умолчанию из исходной вехи. Поле только для чтения, редактирование которого запрещено. | 
| **Категория проводки** | Поле только для чтения, редактирование которого запрещено. |
| **Роль** | Поле только для чтения, редактирование которого запрещено. | 
| **Резервируемый ресурс** | Поле только для чтения, редактирование которого запрещено. | 
| **Единица распределения ресурсов** | Поле только для чтения, редактирование которого запрещено. | 
| **Группа единиц измерения** | Поле только для чтения, редактирование которого запрещено. | 
| **Единица** | Поле только для чтения, редактирование которого запрещено. | 
| **Цена** | Устанавливается по умолчанию из суммы исходной вехи. Поле только для чтения, редактирование которого запрещено. |
| **Валюта** | Устанавливается по умолчанию из исходной вехи. Поле только для чтения, редактирование которого запрещено. |
| **Сумма** | Устанавливается по умолчанию из суммы исходной вехи. Поле только для чтения, редактирование которого запрещено. | 
| **Налог** | Устанавливается по умолчанию из суммы налогов исходной вехи. Поле только для чтения, редактирование которого запрещено. |
| **Полная сумма** | Устанавливается по умолчанию из полной суммы исходной вехи. Поле можно изменить. | 
| **Тип выставления счетов** | По умолчанию всегда установлено значение **Оплачивается**. Поле только для чтения, редактирование которого запрещено. |
| **Тип проводки** | Устанавливается по умолчанию из исходной вехи. Поле только для чтения, редактирование которого запрещено. | 
| **Класс проводки** | Устанавливается по умолчанию из исходной вехи. Поле только для чтения, редактирование которого запрещено. | 

## <a name="refresh-invoice-transactions"></a>Обновление проводок по счету

Если у вас есть фактические данные, поступившие после создания счета, вы можете включить эти фактические данные в счет.

1. В разделе **Представление журнала невыполненной работы по выставлению счетов** отметьте данные как **Готово к выставлению счета**.   
2. Откройте черновик счета-проформы и на ленте **Действия** выберите **Обновить транзакции по строке счета**.

  Сведения строки фактуры создаются для любых фактических данных, которые датированы прошлым периодом и помечены как **Готово к выставлению счета**, но не включены в счет.


[!INCLUDE[footer-include](../includes/footer-banner.md)]
