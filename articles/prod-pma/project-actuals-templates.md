---
title: Синхронизируйте фактические данные по проекту непосредственно из Project Service Automation с журналом интеграции проекта для разноски в Finance and Operations
description: В этой теме описаны шаблоны и базовые задачи, которые используются для синхронизации фактических данных проекта непосредственно из Microsoft Dynamics 365 Project Service Automation с Finance and Operations.
author: Yowelle
manager: AnnBe
ms.date: 07/20/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 87983
ms.assetid: b454ad57-2fd6-46c9-a77e-646de4153067
ms.search.region: Global
ms.author: andchoi
ms.search.validFrom: 2016-11-28
ms.dyn365.ops.version: AX 7.3.0
ms.openlocfilehash: cff62e739e88dc45e7c3d1ea044875f0600f2bc1
ms.sourcegitcommit: 5c4c9bf3ba018562d6cb3443c01d550489c415fa
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/16/2020
ms.locfileid: "4083320"
---
# <a name="synchronize-project-actuals-directly-from-project-service-automation-to-the-project-integration-journal-for-posting-in-finance-and-operations"></a><span data-ttu-id="aa276-103">Синхронизируйте фактические данные по проекту непосредственно из Project Service Automation с журналом интеграции проекта для разноски в Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="aa276-103">Synchronize project actuals directly from Project Service Automation to the project integration journal for posting in Finance and Operations</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="aa276-104">В этой теме описаны шаблоны и базовые задачи, которые используются для синхронизации фактических данных проекта непосредственно из Dynamics 365 Project Service Automation с Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="aa276-104">This topic describes the templates and underlying tasks that are used to synchronize project actuals directly from Dynamics 365 Project Service Automation to Dynamics 365 Finance.</span></span>

<span data-ttu-id="aa276-105">Шаблон синхронизирует транзакции из Project Service Automation с промежуточной таблицей в Finance.</span><span class="sxs-lookup"><span data-stu-id="aa276-105">The template synchronizes transactions from Project Service Automation into a staging table in Finance.</span></span> <span data-ttu-id="aa276-106">После завершения синхронизации вы **должны** импортировать данные из промежуточной таблицы в журнал интеграции.</span><span class="sxs-lookup"><span data-stu-id="aa276-106">After synchronization is completed, you **must** import the data from the staging table into the integration journal.</span></span>

> [!NOTE]
> - <span data-ttu-id="aa276-107">Интеграция фактических данных по проекту доступна с версии 8.0.1.</span><span class="sxs-lookup"><span data-stu-id="aa276-107">Project actuals integration is available starting in version 8.0.1.</span></span>
> - <span data-ttu-id="aa276-108">Если вы используете версию Enterprise Edition 7.3.0 после установки KB 4132657 и KB 4132660, вы сможете использовать шаблоны для интеграции задач проекта, категорий транзакций расходов, часовых оценок, оценок расходов и фактических данных, а также для настройки блокировки функций.</span><span class="sxs-lookup"><span data-stu-id="aa276-108">If you're using Enterprise edition 7.3.0 after you install KB 4132657 and KB 4132660, you will be able to use the templates to integrate project tasks, expense transaction categories, hour estimates, expense estimates, and actuals, and to configure functionality locking.</span></span> <span data-ttu-id="aa276-109">Если вам необходимо сбросить распределения по счетам, мы рекомендуем также установить KB 4131710.</span><span class="sxs-lookup"><span data-stu-id="aa276-109">If you must reset the accounting distributions, we recommend that you also install KB 4131710.</span></span>
> - <span data-ttu-id="aa276-110">Если вы используете версию 7.3.0 и переносите транзакции сборов из Project Service Automation, вы должны установить KB 4345320, чтобы включить эти сборы в счет проекта.</span><span class="sxs-lookup"><span data-stu-id="aa276-110">If you're using version 7.3.0, and you are bringing fee transactions over from Project Service Automation, you must install KB 4345320 in order to include those fees in the project invoice.</span></span>
> - <span data-ttu-id="aa276-111">Если вы вводите суммы налога с продаж вовремя или транзакции расходов в Project Service Automation, вам необходимо установить Project Service Automation Update 7.</span><span class="sxs-lookup"><span data-stu-id="aa276-111">If you're entering sales tax amounts on time or expense transactions in Project Service Automation, you must install Project Service Automation Update 7.</span></span> <span data-ttu-id="aa276-112">В противном случае фактические налоговые данные не будут связаны с соответствующими фактическими затратами времени или расходов и не будут синхронизированы с Finance.</span><span class="sxs-lookup"><span data-stu-id="aa276-112">Otherwise, the tax actuals won't be linked to the associated time or expense actuals, and they won't be synchronized to Finance.</span></span> <span data-ttu-id="aa276-113">Для получения дополнительных сведений обращайтесь в службу поддержки.</span><span class="sxs-lookup"><span data-stu-id="aa276-113">For more information, contact Support.</span></span>

## <a name="data-flow-for-project-service-automation-to-finance"></a><span data-ttu-id="aa276-114">Поток данных для Project Service Automation в Finance</span><span class="sxs-lookup"><span data-stu-id="aa276-114">Data flow for Project Service Automation to Finance</span></span>

<span data-ttu-id="aa276-115">Решение для интеграции Project Service Automation в Finance использует функцию интеграции данных для синхронизации данных между экземплярами Project Service Automation и Finance.</span><span class="sxs-lookup"><span data-stu-id="aa276-115">The Project Service Automation to Finance integration solution uses the Data integration feature to synchronize data across instances of Project Service Automation and Finance.</span></span> <span data-ttu-id="aa276-116">Шаблоны интеграции, доступные с функцией интеграции данных, позволяют передавать данные о фактических данных проекта из Project Service Automation в FInance.</span><span class="sxs-lookup"><span data-stu-id="aa276-116">The integration templates that are available with the Data integration feature enable the flow of data about project actuals from Project Service Automation to Finance.</span></span>

<span data-ttu-id="aa276-117">На следующем рисунке показано, как данные синхронизируются между Project Service Automation и Finance.</span><span class="sxs-lookup"><span data-stu-id="aa276-117">The following illustration shows how the data is synchronized between Project Service Automation and Finance.</span></span>

<span data-ttu-id="aa276-118">[![Поток данных для интеграции Project Service Automation с Finance and Operations](./media/ProjectActualsFlow.jpg)](./media/ProjectActualsFlow.jpg)</span><span class="sxs-lookup"><span data-stu-id="aa276-118">[![Data flow for Project Service Automation integration with Finance and Operations](./media/ProjectActualsFlow.jpg)](./media/ProjectActualsFlow.jpg)</span></span>

## <a name="project-actuals-from-project-service-automation"></a><span data-ttu-id="aa276-119">Фактические данные проекта из Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="aa276-119">Project actuals from Project Service Automation</span></span>

### <a name="template-and-tasks"></a><span data-ttu-id="aa276-120">Шаблон и задачи</span><span class="sxs-lookup"><span data-stu-id="aa276-120">Template and tasks</span></span>

<span data-ttu-id="aa276-121">Чтобы получить доступ к доступным шаблонам, в центре администрирования Microsoft Power Apps выберите **Проекты** , а затем в правом верхнем углу выберите **Создать проект** для выбора общедоступных шаблонов.</span><span class="sxs-lookup"><span data-stu-id="aa276-121">To access the available templates, in the Microsoft Power Apps admin center, select **Projects** , and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="aa276-122">Следующий шаблон и базовые задачи используются для синхронизации фактических данных по проекту из Project Service Automation в Finance:</span><span class="sxs-lookup"><span data-stu-id="aa276-122">The following template and underlying tasks are used to synchronize project actuals from Project Service Automation to Finance:</span></span>

- <span data-ttu-id="aa276-123">**Название шаблона в интеграции данных:** Фактические данные по проекту (из PSA в Fin and Ops)</span><span class="sxs-lookup"><span data-stu-id="aa276-123">**Name of the template in Data integration:** Project actuals (PSA to Fin and Ops)</span></span>
- <span data-ttu-id="aa276-124">**Название задач в проекте:**</span><span class="sxs-lookup"><span data-stu-id="aa276-124">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="aa276-125">Фактические значения</span><span class="sxs-lookup"><span data-stu-id="aa276-125">Actuals</span></span>
    - <span data-ttu-id="aa276-126">TransactionConnections</span><span class="sxs-lookup"><span data-stu-id="aa276-126">TransactionConnections</span></span>

### <a name="entity-set"></a><span data-ttu-id="aa276-127">Набор сущностей</span><span class="sxs-lookup"><span data-stu-id="aa276-127">Entity set</span></span>

| <span data-ttu-id="aa276-128">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="aa276-128">Project Service Automation</span></span> | <span data-ttu-id="aa276-129">Финансы</span><span class="sxs-lookup"><span data-stu-id="aa276-129">Finance</span></span>                                   |
|----------------------------|----------------------------------------------------------|
| <span data-ttu-id="aa276-130">Фактические значения</span><span class="sxs-lookup"><span data-stu-id="aa276-130">Actuals</span></span>                    | <span data-ttu-id="aa276-131">Сущность интеграции для фактических данных проекта</span><span class="sxs-lookup"><span data-stu-id="aa276-131">Integration entity for project actuals</span></span>                   |
| <span data-ttu-id="aa276-132">Подключения проводки</span><span class="sxs-lookup"><span data-stu-id="aa276-132">Transaction Connections</span></span>    | <span data-ttu-id="aa276-133">Сущность интеграции для отношений транзакций проекта</span><span class="sxs-lookup"><span data-stu-id="aa276-133">Integration entity for project transaction relationships</span></span> |

### <a name="entity-flow"></a><span data-ttu-id="aa276-134">Поток сущностей</span><span class="sxs-lookup"><span data-stu-id="aa276-134">Entity flow</span></span>

<span data-ttu-id="aa276-135">Фактические данные по проекту управляются в Project Service Automation и синхронизируются с журналом интеграции проекта в Finance.</span><span class="sxs-lookup"><span data-stu-id="aa276-135">Project actuals are managed in Project Service Automation, and they are synchronized to the project integration journal in Finance.</span></span> <span data-ttu-id="aa276-136">Учет будет применяться на основе финансовых аналитик по умолчанию и настройки разноски.</span><span class="sxs-lookup"><span data-stu-id="aa276-136">The accounting will be applied based on default financial dimensions and the posting setup.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="aa276-137">Предварительные условия</span><span class="sxs-lookup"><span data-stu-id="aa276-137">Prerequisites</span></span>

<span data-ttu-id="aa276-138">Перед синхронизацией фактических данных необходимо настроить параметры интеграции Project Service Automation и синхронизировать проекты, задачи проекта и категории транзакций расходов по проекту.</span><span class="sxs-lookup"><span data-stu-id="aa276-138">Before synchronization of actuals can occur, you must configure the Project Service Automation integration parameters and synchronize projects, project tasks, and project expense transaction categories.</span></span>

### <a name="power-query"></a><span data-ttu-id="aa276-139">Power Query</span><span class="sxs-lookup"><span data-stu-id="aa276-139">Power Query</span></span>

<span data-ttu-id="aa276-140">В шаблоне фактических данных по проекту необходимо использовать Microsoft Power Query для Excel для выполнения следующих задач:</span><span class="sxs-lookup"><span data-stu-id="aa276-140">In the project actuals template, you must use Microsoft Power Query for Excel to complete these tasks:</span></span>

- <span data-ttu-id="aa276-141">Преобразуйте тип транзакции в Project Service Automation в правильный тип транзакции в Finance.</span><span class="sxs-lookup"><span data-stu-id="aa276-141">Transform the transaction type in Project Service Automation to the correct transaction type in Finance.</span></span> <span data-ttu-id="aa276-142">Это преобразование уже определено в шаблоне фактических данных проекта (из PSA в Fin and Ops).</span><span class="sxs-lookup"><span data-stu-id="aa276-142">This transformation is already defined in the Project actuals (PSA to Fin and Ops) template.</span></span>
- <span data-ttu-id="aa276-143">Преобразуйте тип выставления счетов в Project Service Automation в правильный тип выставления счетов в Finance.</span><span class="sxs-lookup"><span data-stu-id="aa276-143">Transform the billing type in Project Service Automation to the correct billing type in Finance.</span></span> <span data-ttu-id="aa276-144">Это преобразование уже определено в шаблоне фактических данных проекта (из PSA в Fin and Ops).</span><span class="sxs-lookup"><span data-stu-id="aa276-144">This transformation is already defined in the Project actuals (PSA to Fin and Ops) template.</span></span> <span data-ttu-id="aa276-145">Затем тип выставления счетов сопоставляется со свойством строки на основе конфигурации на странице **Параметры интеграции Project Service Automation**.</span><span class="sxs-lookup"><span data-stu-id="aa276-145">The billing type is then mapped to the line property, based on the configuration on the **Project Service Automation integration parameters** page.</span></span>
- <span data-ttu-id="aa276-146">Отфильтруйте определенные подразделения ресурса, которые необходимо синхронизировать с этим шаблоном.</span><span class="sxs-lookup"><span data-stu-id="aa276-146">Filter to specific resource organizational units that must be synchronized with this template.</span></span>
- <span data-ttu-id="aa276-147">Если внутрихолдинговое время или фактические данные внутрихолдинговых расходов будут синхронизированы с Finance, необходимо преобразовать подразделение контракта в правильное юридическое лицо в Finance.</span><span class="sxs-lookup"><span data-stu-id="aa276-147">If intercompany time or intercompany expense actuals will be synchronized to Finance, you must transform the contract organizational unit to the correct legal entity in Finance.</span></span> <span data-ttu-id="aa276-148">В шаблоне фактических данных проекта (из PSA в Fin and Ops) условный столбец определяется на основе демонстрационных данных.</span><span class="sxs-lookup"><span data-stu-id="aa276-148">In the Project actuals (PSA to Fin and Ops) template, a conditional column is defined based on demo data.</span></span> <span data-ttu-id="aa276-149">Вы должны обновить последний вставленный условный столбец, указав правильные юридические лица.</span><span class="sxs-lookup"><span data-stu-id="aa276-149">You must update the last inserted conditional column to the correct legal entities.</span></span> <span data-ttu-id="aa276-150">В противном случае может произойти ошибка интеграции или неправильные фактические транзакции могут быть импортированы в Finance.</span><span class="sxs-lookup"><span data-stu-id="aa276-150">Otherwise, either an integration error might occur, or incorrect actual transactions might be imported into Finance.</span></span>
- <span data-ttu-id="aa276-151">Если внутрихолдинговое время или фактические данные внутрихолдинговых расходов не синхронизируются с Finance, необходимо удалить последний вставленный условный столбец из шаблона.</span><span class="sxs-lookup"><span data-stu-id="aa276-151">If intercompany time or intercompany expense actuals won't be synchronized to Finance, you must delete the last inserted conditional column from your template.</span></span> <span data-ttu-id="aa276-152">В противном случае может произойти ошибка интеграции или неправильные фактические транзакции могут быть импортированы в Finance.</span><span class="sxs-lookup"><span data-stu-id="aa276-152">Otherwise, either an integration error might occur, or incorrect actual transactions might be imported into Finance.</span></span>

#### <a name="contract-organizational-unit"></a><span data-ttu-id="aa276-153">Подразделение контракта</span><span class="sxs-lookup"><span data-stu-id="aa276-153">Contract organizational unit</span></span>
<span data-ttu-id="aa276-154">Чтобы обновить вставленный условный столбец в шаблоне, щелкните стрелку **Сопоставить** , чтобы открыть сопоставление.</span><span class="sxs-lookup"><span data-stu-id="aa276-154">To update the inserted conditional column in the template, click the **Map** arrow to open the mapping.</span></span> <span data-ttu-id="aa276-155">Выберите ссылку **Расширенный запрос и фильтрация** для открытия Power Query.</span><span class="sxs-lookup"><span data-stu-id="aa276-155">Select the **Advanced Query and Filtering** link to open Power Query.</span></span>

- <span data-ttu-id="aa276-156">Если вы используете шаблон фактических данных проекта по умолчанию (PSA в Fin and Ops), в Power Query выберите последнее **Вставленное условие** в разделе **Примененные шаги**.</span><span class="sxs-lookup"><span data-stu-id="aa276-156">If you're using the default Project actuals (PSA to Fin and Ops) template, in Power Query, select the last **Inserted Condition** from the **Applied Steps** section.</span></span> <span data-ttu-id="aa276-157">В записи **Функция** замените **USSI** на название юридического лица, которое следует использовать при интеграции.</span><span class="sxs-lookup"><span data-stu-id="aa276-157">In the **Function** entry, replace **USSI** with the name of the legal entity that should be used with the integration.</span></span> <span data-ttu-id="aa276-158">Добавьте дополнительные условия в запись **Функция** , как вам нужно, и обновите условие **else** **USMF** на правильное юридическое лицо.</span><span class="sxs-lookup"><span data-stu-id="aa276-158">Add additional conditions to the **Function** entry as you require, and update the **else** condition from **USMF** to the correct legal entity.</span></span>
- <span data-ttu-id="aa276-159">Если вы создаете новый шаблон, вы должны добавить столбец для поддержки времени и затрат внутри компании.</span><span class="sxs-lookup"><span data-stu-id="aa276-159">If you're creating a new template, you must add the column to support intercompany time and expenses.</span></span> <span data-ttu-id="aa276-160">Выберите **Добавить условный столбец** и введите имя столбца, например **LegalEntity**.</span><span class="sxs-lookup"><span data-stu-id="aa276-160">Select **Add Conditional Column** , and enter a name for the column, such as **LegalEntity**.</span></span> <span data-ttu-id="aa276-161">Введите условие для столбца, где if **msdyn\_contractorganizationalunitid.msdyn\_name** is \<organizational unit\>, then \<enter the legal entity\>; else null.</span><span class="sxs-lookup"><span data-stu-id="aa276-161">Enter a condition for the column, where, if **msdyn\_contractorganizationalunitid.msdyn\_name** is \<organizational unit\>, then \<enter the legal entity\>; else null.</span></span>

### <a name="template-mapping-in-data-integration"></a><span data-ttu-id="aa276-162">Сопоставление шаблонов в интеграции данных</span><span class="sxs-lookup"><span data-stu-id="aa276-162">Template mapping in Data integration</span></span>

<span data-ttu-id="aa276-163">На следующих рисунках показан пример сопоставления задач шаблона в интеграции данных.</span><span class="sxs-lookup"><span data-stu-id="aa276-163">The following illustrations show an example of the template task mapping in Data integration.</span></span> <span data-ttu-id="aa276-164">В сопоставлении отображается информация о полях, которые будут синхронизированы из Project Service Automation в Finance.</span><span class="sxs-lookup"><span data-stu-id="aa276-164">The mapping shows the field information that will be synchronized from Project Service Automation to Finance.</span></span>

<span data-ttu-id="aa276-165">[![Сопоставление шаблонов — фактические данные](./media/ActualsMapping.jpg)](./media/ActualsMapping.jpg)</span><span class="sxs-lookup"><span data-stu-id="aa276-165">[![Template mapping - Actuals](./media/ActualsMapping.jpg)](./media/ActualsMapping.jpg)</span></span>

<span data-ttu-id="aa276-166">[![Сопоставление шаблонов — транзакционные соединения](./media/TransactionConnections.jpg)](./media/TransactionConnections.jpg)</span><span class="sxs-lookup"><span data-stu-id="aa276-166">[![Template mapping - Transaction connections](./media/TransactionConnections.jpg)](./media/TransactionConnections.jpg)</span></span>

## <a name="import-from-staging-table-after-integration-from-project-service-automation"></a><span data-ttu-id="aa276-167">Импорт из промежуточной таблицы после интеграции из Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="aa276-167">Import from staging table after integration from Project Service Automation</span></span>

<span data-ttu-id="aa276-168">Периодический процесс импорта из промежуточной таблицы должен запускаться после синхронизации фактических данных из Project Service Automation в Finance.</span><span class="sxs-lookup"><span data-stu-id="aa276-168">The Import from staging table periodic process must be run after the synchronization of actuals from Project Service Automation to Finance.</span></span> <span data-ttu-id="aa276-169">Этот процесс импортирует транзакции проекта из промежуточной таблицы в журнал интеграции Project Service Automation, где применяется учет и можно разнести импортированные транзакции.</span><span class="sxs-lookup"><span data-stu-id="aa276-169">This process will import the project transactions from the staging table into the Project Service Automation integration journal, where the accounting is applied and the imported transactions can be posted.</span></span> <span data-ttu-id="aa276-170">Мы рекомендуем запускать этот процесс в пакетном режиме; при желании его можно настроить для работы в виде повторяющегося пакета.</span><span class="sxs-lookup"><span data-stu-id="aa276-170">We recommend that you run this process in batch mode; it can optionally be set up to run as a recurring batch.</span></span>

## <a name="update-actuals-from-finance"></a><span data-ttu-id="aa276-171">Обновление фактических данных из Finance</span><span class="sxs-lookup"><span data-stu-id="aa276-171">Update actuals from Finance</span></span>

### <a name="template-and-tasks"></a><span data-ttu-id="aa276-172">Шаблон и задачи</span><span class="sxs-lookup"><span data-stu-id="aa276-172">Template and tasks</span></span>

<span data-ttu-id="aa276-173">Следующий шаблон и базовые задачи используются для синхронизации номера ваучера и налогов с продаж для разнесенных транзакций проекта из Finance в Project Service Automation:</span><span class="sxs-lookup"><span data-stu-id="aa276-173">The following template and underlying tasks are used to synchronize the voucher number and sales taxes for posted project transactions from Finance to Project Service Automation:</span></span>

- <span data-ttu-id="aa276-174">**Название шаблона в интеграции данных:** Обновление фактических данных по проекту (из Fin and Ops в PSA)</span><span class="sxs-lookup"><span data-stu-id="aa276-174">**Name of the template in Data integration:** Project actuals update (Fin Ops to PSA)</span></span>
- <span data-ttu-id="aa276-175">**Название задач в проекте:**</span><span class="sxs-lookup"><span data-stu-id="aa276-175">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="aa276-176">Фактические значения</span><span class="sxs-lookup"><span data-stu-id="aa276-176">Actuals</span></span> 
    - <span data-ttu-id="aa276-177">TransactionConnections</span><span class="sxs-lookup"><span data-stu-id="aa276-177">TransactionConnections</span></span>

### <a name="entity-set"></a><span data-ttu-id="aa276-178">Набор сущностей</span><span class="sxs-lookup"><span data-stu-id="aa276-178">Entity set</span></span>

| <span data-ttu-id="aa276-179">Финансы</span><span class="sxs-lookup"><span data-stu-id="aa276-179">Finance</span></span>                                                  | <span data-ttu-id="aa276-180">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="aa276-180">Project Service Automation</span></span> |
|----------------------------------------------------------|----------------------------|
| <span data-ttu-id="aa276-181">Сущность интеграции для фактических данных проекта</span><span class="sxs-lookup"><span data-stu-id="aa276-181">Integration entity for project actuals</span></span>                   | <span data-ttu-id="aa276-182">Фактические значения</span><span class="sxs-lookup"><span data-stu-id="aa276-182">Actuals</span></span>                    |
| <span data-ttu-id="aa276-183">Сущность интеграции для отношений транзакций проекта</span><span class="sxs-lookup"><span data-stu-id="aa276-183">Integration entity for project transaction relationships</span></span> | <span data-ttu-id="aa276-184">Подключения проводки</span><span class="sxs-lookup"><span data-stu-id="aa276-184">Transaction Connections</span></span>    |

### <a name="entity-flow"></a><span data-ttu-id="aa276-185">Поток сущностей</span><span class="sxs-lookup"><span data-stu-id="aa276-185">Entity flow</span></span>

<span data-ttu-id="aa276-186">Фактические данные по проекту управляются в Project Service Automation и синхронизируются с журналом интеграции проекта в Finance.</span><span class="sxs-lookup"><span data-stu-id="aa276-186">Project actuals are managed in Project Service Automation, and they are synchronized to the project integration journal in Finance.</span></span> <span data-ttu-id="aa276-187">После публикации фактических данных в Finance они обновляются в Project Service Automation на номер ваучера из Finance.</span><span class="sxs-lookup"><span data-stu-id="aa276-187">After actuals are posted in Finance, they are updated in Project Service Automation with the voucher number from Finance.</span></span> <span data-ttu-id="aa276-188">Если налоги с продаж были добавлены в Finance, новые фактические налоги создаются в Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="aa276-188">If sales taxes were added in Finance, new tax actuals are created in Project Service Automation.</span></span>

### <a name="power-query"></a><span data-ttu-id="aa276-189">Power Query</span><span class="sxs-lookup"><span data-stu-id="aa276-189">Power Query</span></span>

<span data-ttu-id="aa276-190">В шаблоне обновления фактических данных по проекту необходимо использовать Power Query для выполнения следующих задач:</span><span class="sxs-lookup"><span data-stu-id="aa276-190">In the project actuals update template, you must use Power Query to complete these tasks:</span></span>

- <span data-ttu-id="aa276-191">Преобразуйте тип транзакции в Finance в правильный тип транзакции в Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="aa276-191">Transform the transaction type in Finance to the correct transaction type in Project Service Automation.</span></span> <span data-ttu-id="aa276-192">Это преобразование уже определено в шаблоне обновления фактических данных проекта (из Fin and Ops в PSA).</span><span class="sxs-lookup"><span data-stu-id="aa276-192">This transformation is already defined in the Project actuals update (Fin Ops to PSA) template.</span></span>
- <span data-ttu-id="aa276-193">Преобразуйте тип выставления счетов в Finance в правильный тип выставления счетов в Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="aa276-193">Transform the billing type in Finance to the correct billing type in Project Service Automation.</span></span> <span data-ttu-id="aa276-194">Это преобразование уже определено в шаблоне обновления фактических данных проекта (из Fin and Ops в PSA).</span><span class="sxs-lookup"><span data-stu-id="aa276-194">This transformation is already defined in the Project actuals update (Fin Ops to PSA) template.</span></span>

### <a name="template-mapping-in-data-integration"></a><span data-ttu-id="aa276-195">Сопоставление шаблонов в интеграции данных</span><span class="sxs-lookup"><span data-stu-id="aa276-195">Template mapping in Data integration</span></span>

<span data-ttu-id="aa276-196">На следующих рисунках показаны примеры сопоставлений задач шаблона в интеграции данных.</span><span class="sxs-lookup"><span data-stu-id="aa276-196">The following illustrations show examples of the template task mappings in Data integration.</span></span> <span data-ttu-id="aa276-197">В сопоставлении отображается информация о полях, которые будут синхронизированы из Finance в Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="aa276-197">The mapping shows the field information that will be synchronized from Finance to Project Service Automation.</span></span>

<span data-ttu-id="aa276-198">[![Сопоставление шаблонов — обновление фактических данных](./media/ActualsUpdateMapping.jpg)](./media/ActualsUpdateMapping.jpg)</span><span class="sxs-lookup"><span data-stu-id="aa276-198">[![Template mapping - Actuals update](./media/ActualsUpdateMapping.jpg)](./media/ActualsUpdateMapping.jpg)</span></span>

<span data-ttu-id="aa276-199">[![Сопоставление шаблонов — обновление транзакций](./media/TransactionConnectionsUpdate.jpg)](./media/TransactionConnectionsUpdate.jpg)</span><span class="sxs-lookup"><span data-stu-id="aa276-199">[![Template mapping - Transaction update](./media/TransactionConnectionsUpdate.jpg)](./media/TransactionConnectionsUpdate.jpg)</span></span>
