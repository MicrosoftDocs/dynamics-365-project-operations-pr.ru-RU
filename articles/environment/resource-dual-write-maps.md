---
title: Версии сопоставлений с двойной записью Project Operations
description: В этом разделе представлен список сопоставлений с двойной записью, необходимых для Dynamics 365 Project Operations.
author: sigitac
ms.date: 04/22/2021
ms.topic: article
ms.reviewer: kfend
ms.author: sigitac
ms.openlocfilehash: b24a20d47eefa43b2e4e184a377decdb280d436d
ms.sourcegitcommit: fd6e9ff78392c7bac35591d9130c00d2750438ae
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/12/2021
ms.locfileid: "6025790"
---
# <a name="project-operations-dual-write-map-versions"></a><span data-ttu-id="78aa4-103">Версии сопоставлений с двойной записью Project Operations</span><span class="sxs-lookup"><span data-stu-id="78aa4-103">Project Operations dual-write map versions</span></span>

<span data-ttu-id="78aa4-104">_**Относится к:** Project Operations для сценариев на основе ресурсов/без запасов_</span><span class="sxs-lookup"><span data-stu-id="78aa4-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="78aa4-105">С использованием Dynamics 365 Project Operations для сценариев на основе ресурсов/без запасов требуется, чтобы в среде работал набор сопоставлений с двойной записью.</span><span class="sxs-lookup"><span data-stu-id="78aa4-105">Using Dynamics 365 Project Operations for resource/non-stocked scenarios requires a set of dual-write maps to be running in the environment.</span></span> 

## <a name="prerequisite-maps-dual-write-orchestration-solution"></a><span data-ttu-id="78aa4-106">Необходимые сопоставления: решение оркестрации двойной записи</span><span class="sxs-lookup"><span data-stu-id="78aa4-106">Prerequisite maps: Dual-write orchestration solution</span></span>

<span data-ttu-id="78aa4-107">Следующие сопоставления являются обязательными компонентами для решения Project Operations.</span><span class="sxs-lookup"><span data-stu-id="78aa4-107">The following maps are required prerequisites for the Project Operations solution.</span></span> <span data-ttu-id="78aa4-108">Обязательно запустите сопоставления, перечисленные в следующей таблице, и все связанные сопоставления таблиц в вашей среде.</span><span class="sxs-lookup"><span data-stu-id="78aa4-108">Make sure to run the maps listed in the following table and any related table maps in your environment.</span></span>

| <span data-ttu-id="78aa4-109">Сопоставление таблиц</span><span class="sxs-lookup"><span data-stu-id="78aa4-109">Table map</span></span> | <span data-ttu-id="78aa4-110">Начальная синхронизация</span><span class="sxs-lookup"><span data-stu-id="78aa4-110">Initial sync</span></span> |
| --- | --- |
| <span data-ttu-id="78aa4-111">Книга учета (msdyn_ledgers)</span><span class="sxs-lookup"><span data-stu-id="78aa4-111">Ledger (msdyn_ledgers)</span></span> | <span data-ttu-id="78aa4-112">Требуется первоначальная синхронизация для сопоставления таблицы и всех обязательных компонентов.</span><span class="sxs-lookup"><span data-stu-id="78aa4-112">Requires initial sync for the table map and all prerequisites.</span></span> <span data-ttu-id="78aa4-113">Главная записью для начальной синхронизации являются приложения Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="78aa4-113">Master for initial sync is Finance and Operations apps.</span></span> |
| <span data-ttu-id="78aa4-114">Юридические лица (cdm_companies)</span><span class="sxs-lookup"><span data-stu-id="78aa4-114">Legal entities (cdm_companies)</span></span> | <span data-ttu-id="78aa4-115">Необязательно.</span><span class="sxs-lookup"><span data-stu-id="78aa4-115">Not required.</span></span> <span data-ttu-id="78aa4-116">Система заполняет эту сущность автоматически, когда среды связаны с использованием двойной записи.</span><span class="sxs-lookup"><span data-stu-id="78aa4-116">The system populates this entity automatically when environments are linked using dual-write.</span></span> |
| <span data-ttu-id="78aa4-117">Клиенты V3 (учетные записи)</span><span class="sxs-lookup"><span data-stu-id="78aa4-117">Customers V3 (accounts)</span></span> | <span data-ttu-id="78aa4-118">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-118">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-119">Поставщики V2 (msdyn_vendors)</span><span class="sxs-lookup"><span data-stu-id="78aa4-119">Vendors V2 (msdyn_vendors)</span></span> | <span data-ttu-id="78aa4-120">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-120">Not required for provisioning.</span></span> |

1. <span data-ttu-id="78aa4-121">Из списка сопоставлений выберите сопоставление Реестр **(msdyn\_ledgers)** со всеми обязательными компонентами и выберите флажок **Начальная синхронизация**.</span><span class="sxs-lookup"><span data-stu-id="78aa4-121">From the list of maps, select the Ledger **(msdyn\_ledgers)** map with all prerequisites and select the **Initial sync** check box.</span></span> <span data-ttu-id="78aa4-122">В поле **Главная запись для начальной синхронизации** выберите **Приложения Finance and Operations** как для сопоставления реестра, так и для всех обязательных сопоставлений.</span><span class="sxs-lookup"><span data-stu-id="78aa4-122">In the **Master for initial sync** field, select **Finance and Operations apps** for both ledger map and all prerequisite maps.</span></span> <span data-ttu-id="78aa4-123">Выберите **Выполнить**.</span><span class="sxs-lookup"><span data-stu-id="78aa4-123">Select **Run**.</span></span>

![Синхронизация сопоставления реестра](media/DW6.png)

2. <span data-ttu-id="78aa4-125">Выполните те же действия для всех остальных сопоставлений таблиц, перечисленных в приведенной выше таблице.</span><span class="sxs-lookup"><span data-stu-id="78aa4-125">Follow the same steps for all remaining table maps listed in the above table.</span></span> <span data-ttu-id="78aa4-126">Не выбирайте флажок **Начальная синхронизация** при запуске этих сопоставлений.</span><span class="sxs-lookup"><span data-stu-id="78aa4-126">Do not select the **Initial sync** check box when running those maps.</span></span>

## <a name="project-operations-dual-write-maps"></a><span data-ttu-id="78aa4-127">Сопоставления с двойной записью Project Operations</span><span class="sxs-lookup"><span data-stu-id="78aa4-127">Project Operations dual-write maps</span></span>

<span data-ttu-id="78aa4-128">Следующие сопоставления требуются для решения Project Operations.</span><span class="sxs-lookup"><span data-stu-id="78aa4-128">The following maps are required for a Project Operations solution.</span></span> <span data-ttu-id="78aa4-129">Версии сопоставлений с двойной записью перечислены, начиная с обновления Project Operations за май 2021 г., версия 4.10.0.186.</span><span class="sxs-lookup"><span data-stu-id="78aa4-129">Dual-write map versions are listed starting with the Project Operations May 2021 update, version 4.10.0.186.</span></span>

| <span data-ttu-id="78aa4-130">**Сопоставление сущностей**</span><span class="sxs-lookup"><span data-stu-id="78aa4-130">**Entity map**</span></span> | <span data-ttu-id="78aa4-131">**Последняя версия**</span><span class="sxs-lookup"><span data-stu-id="78aa4-131">**Latest version**</span></span> | <span data-ttu-id="78aa4-132">**Начальная синхронизация**</span><span class="sxs-lookup"><span data-stu-id="78aa4-132">**Initial sync**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="78aa4-133">Сущность интеграции для отношений транзакций проекта (msdyn\_transactionconnections)</span><span class="sxs-lookup"><span data-stu-id="78aa4-133">Integration entity for project transaction relationships (msdyn\_transactionconnections)</span></span> | <span data-ttu-id="78aa4-134">1.0.0.0</span><span class="sxs-lookup"><span data-stu-id="78aa4-134">1.0.0.0</span></span> | <span data-ttu-id="78aa4-135">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-135">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-136">Заголовки контрактов по проекту (заказы на продажу)</span><span class="sxs-lookup"><span data-stu-id="78aa4-136">Project contract headers (sales orders)</span></span> | <span data-ttu-id="78aa4-137">1.0.0.1</span><span class="sxs-lookup"><span data-stu-id="78aa4-137">1.0.0.1</span></span> | <span data-ttu-id="78aa4-138">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-138">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-139">Строки контракта по проекту (salesorderdetails)</span><span class="sxs-lookup"><span data-stu-id="78aa4-139">Project contract lines (salesorderdetails)</span></span> | <span data-ttu-id="78aa4-140">1.0.0.0</span><span class="sxs-lookup"><span data-stu-id="78aa4-140">1.0.0.0</span></span> | <span data-ttu-id="78aa4-141">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-141">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-142">Источник финансирования проекта (msdyn_projectcontractsplitbillingrules)</span><span class="sxs-lookup"><span data-stu-id="78aa4-142">Project funding source (msdyn_projectcontractsplitbillingrules)</span></span> | <span data-ttu-id="78aa4-143">1.0.0.2</span><span class="sxs-lookup"><span data-stu-id="78aa4-143">1.0.0.2</span></span> | <span data-ttu-id="78aa4-144">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-144">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-145">Таблица интеграции Project Operations для оценок материалов (msdyn\_estimatelines)</span><span class="sxs-lookup"><span data-stu-id="78aa4-145">Project Operations integration table for material estimates (msdyn\_estimatelines)</span></span> | <span data-ttu-id="78aa4-146">1.0.0.0</span><span class="sxs-lookup"><span data-stu-id="78aa4-146">1.0.0.0</span></span> | <span data-ttu-id="78aa4-147">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-147">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-148">Предложения по счетам по проекту V2 (счета)</span><span class="sxs-lookup"><span data-stu-id="78aa4-148">Project invoice proposals V2 (invoices)</span></span> | <span data-ttu-id="78aa4-149">1.0.0.3</span><span class="sxs-lookup"><span data-stu-id="78aa4-149">1.0.0.3</span></span> | <span data-ttu-id="78aa4-150">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-150">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-151">Фактические данные интеграции Project Operations (msdyn_actuals)</span><span class="sxs-lookup"><span data-stu-id="78aa4-151">Project Operations integration actuals (msdyn_actuals)</span></span> | <span data-ttu-id="78aa4-152">1.0.0.14</span><span class="sxs-lookup"><span data-stu-id="78aa4-152">1.0.0.14</span></span> | <span data-ttu-id="78aa4-153">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-153">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-154">Основные этапы строки контракта интеграции Project Operations (msdyn_contractlinesscheduleofvalues)</span><span class="sxs-lookup"><span data-stu-id="78aa4-154">Project Operations integration contract line milestones (msdyn_contractlinesscheduleofvalues)</span></span> | <span data-ttu-id="78aa4-155">1.0.0.4</span><span class="sxs-lookup"><span data-stu-id="78aa4-155">1.0.0.4</span></span> | <span data-ttu-id="78aa4-156">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-156">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-157">Сущность интеграции Project Operations для оценки расходов (msdyn_estimateslines)</span><span class="sxs-lookup"><span data-stu-id="78aa4-157">Project Operations integration entity for expense estimates (msdyn_estimateslines)</span></span> | <span data-ttu-id="78aa4-158">1.0.0.2</span><span class="sxs-lookup"><span data-stu-id="78aa4-158">1.0.0.2</span></span> | <span data-ttu-id="78aa4-159">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-159">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-160">Сущность интеграции Project Operations для оценки часов (msdyn_resourceassignments)</span><span class="sxs-lookup"><span data-stu-id="78aa4-160">Project Operations integration entity for hour estimates (msdyn_resourceassignments)</span></span> | <span data-ttu-id="78aa4-161">1.0.0.5</span><span class="sxs-lookup"><span data-stu-id="78aa4-161">1.0.0.5</span></span> | <span data-ttu-id="78aa4-162">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-162">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-163">Сущность экспорта категорий расходов проекта интеграции Project Operations (msdyn_expensecategories)</span><span class="sxs-lookup"><span data-stu-id="78aa4-163">Project Operations integration project expense categories export entity (msdyn_expensecategories)</span></span> | <span data-ttu-id="78aa4-164">1.0.0.1</span><span class="sxs-lookup"><span data-stu-id="78aa4-164">1.0.0.1</span></span> | <span data-ttu-id="78aa4-165">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-165">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-166">Сущность экспорта расходов проекта интеграции Project Operations (msdyn_expenses)</span><span class="sxs-lookup"><span data-stu-id="78aa4-166">Project Operations integration project expenses export entity (msdyn_expenses)</span></span> | <span data-ttu-id="78aa4-167">1.0.0.2</span><span class="sxs-lookup"><span data-stu-id="78aa4-167">1.0.0.2</span></span> | <span data-ttu-id="78aa4-168">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-168">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-169">Сущность экспорта накладной поставщика проекта интеграции Project Operations (msdyn_projectvendorinvoices)</span><span class="sxs-lookup"><span data-stu-id="78aa4-169">Project Operations integration project vendor invoice export entity (msdyn_projectvendorinvoices)</span></span> | <span data-ttu-id="78aa4-170">1.0.0.0</span><span class="sxs-lookup"><span data-stu-id="78aa4-170">1.0.0.0</span></span> | <span data-ttu-id="78aa4-171">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-171">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-172">Сущность экспорта строки накладной поставщика проекта интеграции Project Operations (msdyn_projectvendorinvoicelines)</span><span class="sxs-lookup"><span data-stu-id="78aa4-172">Project Operations integration project vendor invoice line export entity (msdyn_projectvendorinvoicelines)</span></span> | <span data-ttu-id="78aa4-173">1.0.0.1</span><span class="sxs-lookup"><span data-stu-id="78aa4-173">1.0.0.1</span></span> | <span data-ttu-id="78aa4-174">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-174">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-175">Роли ресурсов проекта для всех компаний (bookableresourcecategories)</span><span class="sxs-lookup"><span data-stu-id="78aa4-175">Project resource roles for all companies (bookableresourcecategories)</span></span> | <span data-ttu-id="78aa4-176">1.0.0.1</span><span class="sxs-lookup"><span data-stu-id="78aa4-176">1.0.0.1</span></span> | <span data-ttu-id="78aa4-177">Требуется начальная синхронизация сопоставления таблиц для синхронизации ролей ресурсов Руководитель проекта и Участник рабочей группы, которые заполняются в среде Dynamics 365 Dataverse во время подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-177">Requires an initial sync for the table map to synchronize the Project Manager and Team member resource roles that are populated in the Dynamics 365 Dataverse environment during provisioning.</span></span> <span data-ttu-id="78aa4-178">Dataverse является основным источником начальной синхронизации.</span><span class="sxs-lookup"><span data-stu-id="78aa4-178">Dataverse is the main source for the initial synchronization.</span></span> |
| <span data-ttu-id="78aa4-179">Задачи проекта (msdyn_projecttasks)</span><span class="sxs-lookup"><span data-stu-id="78aa4-179">Project tasks (msdyn_projecttasks)</span></span> | <span data-ttu-id="78aa4-180">1.0.0.4</span><span class="sxs-lookup"><span data-stu-id="78aa4-180">1.0.0.4</span></span> | <span data-ttu-id="78aa4-181">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-181">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-182">Категории транзакций проекта (msdyn_transactioncategories)</span><span class="sxs-lookup"><span data-stu-id="78aa4-182">Project transaction categories (msdyn_transactioncategories)</span></span> | <span data-ttu-id="78aa4-183">1.0.0.0</span><span class="sxs-lookup"><span data-stu-id="78aa4-183">1.0.0.0</span></span> | <span data-ttu-id="78aa4-184">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-184">Not required for provisioning.</span></span> |
| <span data-ttu-id="78aa4-185">Проекты V2 (msdyn_projects)</span><span class="sxs-lookup"><span data-stu-id="78aa4-185">Projects V2 (msdyn_projects)</span></span> | <span data-ttu-id="78aa4-186">1.0.0.2</span><span class="sxs-lookup"><span data-stu-id="78aa4-186">1.0.0.2</span></span> | <span data-ttu-id="78aa4-187">Не требуется для подготовки.</span><span class="sxs-lookup"><span data-stu-id="78aa4-187">Not required for provisioning.</span></span> |

<span data-ttu-id="78aa4-188">Выполните следующие шаги, чтобы запустить перечисленные сопоставления.</span><span class="sxs-lookup"><span data-stu-id="78aa4-188">Complete the following steps to run the listed maps.</span></span>

1. <span data-ttu-id="78aa4-189">Включите роли ресурсов проекта для сопоставления таблиц **все компании (bookableresourcecategories)**, поскольку это сопоставление требует начальной синхронизации. В поле **Главная запись для начальной синхронизации** выберите **Common Data Service**.</span><span class="sxs-lookup"><span data-stu-id="78aa4-189">Enable the Project resource roles for **all companies (bookableresourcecategories)** table map as this map requires the initial sync. In the **Master for initial sync** field, select **Common data service**.</span></span> 

 ![Синхронизация сопоставления таблиц роли ресурсов](media/6ResourceInitialSync.jpg)

 <span data-ttu-id="78aa4-191">Подождите, пока состояние сопоставления не изменится на **Выполняется** прежде чем перейти к следующему шагу.</span><span class="sxs-lookup"><span data-stu-id="78aa4-191">Wait until the status of the map is **Running** before you move to the next step.</span></span>

2. <span data-ttu-id="78aa4-192">Выберите все оставшиеся необходимые сопоставления.</span><span class="sxs-lookup"><span data-stu-id="78aa4-192">Select all of the remaining required maps.</span></span> <span data-ttu-id="78aa4-193">Вы можете отфильтровать их в списке сопоставлений с двойной записью, используя ключевое слово, **Проект** в поиске в правом верхнем углу.</span><span class="sxs-lookup"><span data-stu-id="78aa4-193">You can filter them in the dual-write map list using the keyword, **Project** in search in the upper-right corner.</span></span> <span data-ttu-id="78aa4-194">Вы можете выбрать несколько сопоставлений, а затем запустить.</span><span class="sxs-lookup"><span data-stu-id="78aa4-194">You can multi-select all maps and then run.</span></span> <span data-ttu-id="78aa4-195">Для получения дополнительной информации см. [Управление несколькими сопоставлениями таблиц](/dynamics365/fin-ops-core/dev-itpro/data-entities/dual-write/multiple-entity-maps).</span><span class="sxs-lookup"><span data-stu-id="78aa4-195">For more information, see [Manage multiple table maps](/dynamics365/fin-ops-core/dev-itpro/data-entities/dual-write/multiple-entity-maps).</span></span> <span data-ttu-id="78aa4-196">Не забудьте также включить и запустить сопоставления связанной сущности.</span><span class="sxs-lookup"><span data-stu-id="78aa4-196">Make sure to also enable and run related entity maps.</span></span>

### <a name="project-operations-dual-write-map-versions"></a><span data-ttu-id="78aa4-197">Версии сопоставлений с двойной записью Project Operations</span><span class="sxs-lookup"><span data-stu-id="78aa4-197">Project Operations dual-write map versions</span></span>

<span data-ttu-id="78aa4-198">Всегда запускайте последнюю версию сопоставления в своей среде.</span><span class="sxs-lookup"><span data-stu-id="78aa4-198">Always run the latest version of the map in your environment.</span></span> <span data-ttu-id="78aa4-199">Некоторые функции и возможности могут работать некорректно при наличии любого из следующих условий:</span><span class="sxs-lookup"><span data-stu-id="78aa4-199">Certain features and capabilities might not work correctly if any of the following conditions exist:</span></span>

- <span data-ttu-id="78aa4-200">Сопоставление не активирована.</span><span class="sxs-lookup"><span data-stu-id="78aa4-200">A map isn't activated.</span></span>
- <span data-ttu-id="78aa4-201">Последняя версия сопоставления не активирована.</span><span class="sxs-lookup"><span data-stu-id="78aa4-201">The latest version of the map isn't activated.</span></span> 
- <span data-ttu-id="78aa4-202">Связанные сопоставления таблиц не активированы.</span><span class="sxs-lookup"><span data-stu-id="78aa4-202">Related table maps aren't activated.</span></span>

<span data-ttu-id="78aa4-203">Вы можете увидеть активную версию сопоставления в столбце **Версия** на странице **Двойная запись**.</span><span class="sxs-lookup"><span data-stu-id="78aa4-203">You can view the active version of the map in the **Version** column on the **Dual-write** page.</span></span> <span data-ttu-id="78aa4-204">Вы можете активировать новую версию сопоставления, выбрав **Версии сопоставления таблиц**, выбрав последнюю версию, а затем сохраните выбранную версию.</span><span class="sxs-lookup"><span data-stu-id="78aa4-204">You can activate a new version of the map by selecting **Table map versions**, selecting the latest version, and then saving the selected version.</span></span> <span data-ttu-id="78aa4-205">Если вы настроили готовое сопоставление таблицы, вам нужно будет повторно применить изменения.</span><span class="sxs-lookup"><span data-stu-id="78aa4-205">If you have customized an out-of-the-box table map, you will need reapply the changes.</span></span> <span data-ttu-id="78aa4-206">Дополнительные сведения см. в [Управление жизненным циклом приложений](/dynamics365/fin-ops-core/dev-itpro/data-entities/dual-write/app-lifecycle-management).</span><span class="sxs-lookup"><span data-stu-id="78aa4-206">For more information, see [Application lifecycle management](/dynamics365/fin-ops-core/dev-itpro/data-entities/dual-write/app-lifecycle-management).</span></span>
