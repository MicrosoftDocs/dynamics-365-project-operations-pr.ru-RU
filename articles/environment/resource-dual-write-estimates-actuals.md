---
title: Интеграция оценок и фактических данных по проекту
description: В этой статье содержится информация об интеграции Project Operations с двойной записью для оценок и фактических значений проекта.
author: sigitac
ms.date: 4/26/2021
ms.topic: article
ms.prod: ''
ms.reviewer: johnmichalak
ms.author: sigitac
ms.openlocfilehash: 43c868b051bf141cfc3211669c0a44333b4b2c65
ms.sourcegitcommit: 6cfc50d89528df977a8f6a55c1ad39d99800d9b4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/03/2022
ms.locfileid: "8914602"
---
# <a name="project-estimates-and-actuals-integration"></a>Интеграция оценок и фактических данных по проекту

_**Относится к:** Project Operations для сценариев на основе ресурсов/без запасов_

В этой статье содержится информация об интеграции Project Operations с двойной записью для оценок и фактических значений проекта.

## <a name="project-estimates"></a>Оценки проекта

Оценки трудозатрат, расходов и материалов по проекту создаются и ведутся в Microsoft Dataverse и синхронизируются в приложения для управления финансами и операциями для целей бухгалтерского учета. Операции создания, изменения и удаления не поддерживаются в приложениях для управления финансами и операциями.

Для создания оценок требуется действующая конфигурация учета для проекта. Проекты, связанные со строками контракта, должны иметь допустимый профиль затрат и доходов, определенный в правилах профиля затрат и доходов по проекту. Для получения дополнительной информации см. [Настроить учет тарифицируемых проектов](../project-accounting/configure-accounting-billable-projects.md#configure-project-cost-and-revenue-profile-rules).

## <a name="labor-estimates"></a>Оценка трудозатрат

Оценки трудозатрат создаются руководителем проекта или диспетчером ресурсов, который также назначает общий или именованный ресурс задаче проекта. Записи о назначении ресурсов можно просмотреть на вкладка **Назначения ресурсов** на страница **Сведения о проекте** в Dataverse. Записи о назначении ресурсов в Dataverse создают записи часовых прогнозов в приложениях для управления финансами и операциями, используя **сущность интеграции Project Operations для оценок часов (msdyn\_resourceassignments)**.

   ![Интеграция оценок трудозатрат.](./Media/DW4LaborEstimates.png)

Двойная запись синхронизирует записи о назначении ресурсов с таблицей промежуточного хранения (**ProjCDSEstimateHoursImport**), а затем использует бизнес-логику для создания и обновления записей прогноза часов (**ProjForecastEmpl**).

Бухгалтер проекта просматривает записи часовых прогнозов, созданные в приложениях для управления финансами и операциями, выбирая для этого **Управление и учет по проектам** > **Все проекты** > **План** > **Часовые прогнозы**.

## <a name="expense-estimates"></a>Оценки расходов

Оценки расходов создаются руководителем проекта на вкладка **Оценка расходов** на страница **Сведения о проекте** в Dataverse. Записи оценки расходов хранятся в сущности **Строка оценки** в Dataverse. Эти записи оценок имеют класс проводки **Расход** и синхронизируются с записями прогнозов расходов в приложениях для управления финансами и операциями с использованием **сущности интеграции Project Operations для оценок расходов (msdyn\_estimatelines)**.

   ![Интеграция оценок расходов.](./Media/DW4ExpenseEstimates.png)

Двойная запись синхронизирует записи оценки расходов с таблицей промежуточного хранения, **ProjCDSEstimateExpenseImport**, а затем использует бизнес-логику для создания и обновления записей прогноза расходов (**ProjForecastCost**). В строках сметы записи сметы продаж и сметы затрат хранятся отдельно. Бизнес-логика в приложениях для управления финансами и операциями заполняет одну запись прогноза расходов, используя эту информацию в промежуточной таблице.

Бухгалтер проекта может просмотреть записи прогнозов расходов в приложениях для управления финансами и операциями, выбрав **Управление и учет по проектам** > **Все проекты** > **План** > **Прогнозы расходов**.

## <a name="material-estimates"></a>Оценки материалов

Оценки материалов создаются руководителем проекта на вкладка **Оценка материалов** на страница **Сведения о проекте** в Dataverse. Записи оценки материалов хранятся в сущности **Строка оценки** в Dataverse. Эти записи оценок имеют класс проводки **Материал** и синхронизируются с записями прогнозов по номенклатурам в приложениях для управления финансами и операциями с использованием **таблицы интеграции проекта для оценок материалов (msdyn\_estimatelines)**.

   ![Интеграция оценок материалов.](./Media/DW4MaterialEstimates.png)

Двойная запись синхронизирует записи оценки материалов с таблицей промежуточного хранения, **ProjForecastSalesImpor**, а затем использует бизнес-логику для создания и обновления записей прогноза номенклатуры (**ForecastSales**). В строках сметы записи сметы продаж и сметы затрат хранятся отдельно. Бизнес-логика в приложениях для управления финансами и операциями заполняет одну запись прогноза по номенклатурам, используя эту информацию в промежуточной таблице.

Бухгалтер проекта может просмотреть записи прогнозов по номенклатурам в приложениях для управления финансами и операциями, выбрав **Управление и учет по проектам** > **Все проекты** > **План** > **Прогнозы по номенклатурам**.

## <a name="project-actuals"></a>Фактические данные проекта

Фактические данные проекта создаются в Dataverse в зависимости от времени, расходов, материалов и выставления счетов. Все операционные атрибуты этих транзакций, включая количество, себестоимость, продажную цену и проект, отражаются в этой сущности Dataverse. Дополнительные сведения см. [Фактические значения](../actuals/actuals-overview.md). Записи фактических значений синхронизируются с приложениями для управления финансами и операциями с использованием сопоставления таблиц двойной записи, которое называется **Фактические данные интеграции Project Operations (msdyn\_actuals)**, дальнейшего учета.

   ![Интеграция фактических данных.](./Media/DW4Actuals.png)

В **Фактические данные интеграции Project Operations** сопоставление таблиц синхронизирует все записи из сущности **Фактические данные** в Dataverse, с атрибутом **Пропустить синхронизацию (только для внутреннего использования)** установлен в **Ложь**. Значение этого атрибута устанавливается в Dataverse автоматически при создании записи. Примеры, в которых для этого атрибута установлено значение **Истина**:

  - Фактические данные стоимости проекта для внутрихолдинговых транзакций. Для получения дополнительной информации см. [Создавать внутрихолдинговые транзакции](../project-accounting/create-intercompany-transactions.md). Эти записи пропускаются, поскольку система заново создает фактическое значение затрат по проекту приложениях для управления финансами и операциями при разноске внутрихолдингового счета поставщика.
  - Отрицательные записи продаж без выставления счета создаются при подтверждении счета-проформы. Эти записи пропускаются, поскольку субкнига проекта в приложениях для управления финансами и операциями apps не сторнирует запись продаж с невыставленным счетом при выставлении сета, а меняет ее состояние на "полностью выставлены счета".

Сопоставление таблиц с двойной записью синхронизирует фактические записи с таблицей промежуточного хранения, **ProjCDSActualsImport**. Эти записи обрабатываются периодическим процессом **Импорт из таблицы промежуточного хранения** при создании строк журнала интеграции Project Operations и строк предложения по счетам по проекту. Для получения дополнительной информации см. [Журнал интеграции в Project Operations](../project-accounting/project-operations-integration-journal.md).

Dataverse также фиксирует связи между фактическими транзакциями проекта в сущности **Подключение транзакции**. Для получения дополнительной информации см. [Связь фактических данных с исходными записями](../actuals/linkingactuals.md). Связи между проводками фактических значений также синхронизируются с приложениями для управления финансами и операциями с использованием сопоставления таблиц двойной записи, которое называется **Сущность интеграции для связей проводок по проекту (msdyn\_transactionconnections)**. Эти записи используются периодическим процессом **Импорт из таблицы промежуточного хранения** при создании строк журнала интеграции Project Operations и строк предложения по счетам по проекту.

Разноска журнала интеграции Project Operations и предложения по счету по проекту запускает обновление соответствующих записей в таблице промежуточного хранения, **ProjCDSActualsImport**. Система фиксирует и записывает следующие атрибуты учета для фактических транзакций:

- Сумма валюты учета
- Валютный курс
- Код ваучера
- Сумма налога

Сопоставление таблиц **Фактические данные интеграции Project Operations** обновляет соответствующие записи фактических данных в Dataverse этой информацией.
