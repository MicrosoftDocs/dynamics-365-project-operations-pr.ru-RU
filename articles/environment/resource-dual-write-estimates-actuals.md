---
title: Интеграция оценок и фактических данных по проекту
description: Этот тема предоставляет информацию об интеграции с двойной записью Project Operations для оценок и фактических данных по проекту.
author: sigitac
manager: Annbe
ms.date: 4/26/2021
ms.topic: article
ms.prod: ''
ms.service: project-operations
ms.reviewer: kfend
ms.author: sigitac
ms.openlocfilehash: 88df3385fac0a78a827d65a77d3b04c9d6499536
ms.sourcegitcommit: 02f00960198cc78a5e96955a9e4390c2c6393bbf
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2021
ms.locfileid: "5955820"
---
# <a name="project-estimates-and-actuals-integration"></a>Интеграция оценок и фактических данных по проекту

_**Относится к:** Project Operations для сценариев на основе ресурсов/без запасов_

Этот тема предоставляет информацию об интеграции с двойной записью Project Operations для оценок и фактических данных по проекту.

## <a name="project-estimates"></a>Оценки проекта

Оценка трудозатрат, затрат и материалов по проекту создается и ведется в Microsoft Dataverse и синхронизирован с приложения Finance and Operations для учета. Операции создания, обновления и удаления не поддерживаются через приложения Finance and Operations.

Для создания оценок требуется действующая конфигурация учета для проекта. Проекты, связанные со строками контракта, должны иметь допустимый профиль затрат и доходов, определенный в правилах профиля затрат и доходов по проекту. Для получения дополнительной информации см. [Настроить учет тарифицируемых проектов](../project-accounting/configure-accounting-billable-projects.md#configure-project-cost-and-revenue-profile-rules).

## <a name="labor-estimates"></a>Оценка трудозатрат

Оценки трудозатрат создаются руководителем проекта или диспетчером ресурсов, который также назначает общий или именованный ресурс задаче проекта. Записи о назначении ресурсов можно просмотреть на вкладка **Назначения ресурсов** на страница **Сведения о проекте** в Dataverse. Записи о назначении ресурсов в Dataverse создавать записи прогнозов часов в приложения Finance and Operations, использующие **Сущность интеграции Project Operations для оценки часов (msdyn\_resourceassignments)**.

   ![Интеграция оценок трудозатрат](./Media/DW4LaborEstimates.png)

Двойная запись синхронизирует записи о назначении ресурсов с таблицей промежуточного хранения (**ProjCDSEstimateHoursImport**), а затем использует бизнес-логику для создания и обновления записей прогноза часов (**ProjForecastEmpl**).

Бухгалтер проекта просматривает записи о часах прогноза, созданные в приложения Finance and Operations, перейдя в **Управление и учет для проектов** > **Все проекты** > **План** > **Часовые прогнозы**.

## <a name="expense-estimates"></a>Оценки расходов

Оценки расходов создаются руководителем проекта на вкладка **Оценка расходов** на страница **Сведения о проекте** в Dataverse. Записи оценки расходов хранятся в сущности **Строка оценки** в Dataverse. Эти записи оценки имеют класс транзакции, **Расход** и синхронизируются с записями прогноза расходов в приложения Finance and Operations, использующие **Сущность интеграции Project Operations для оценки расходов (msdyn\_estimatelines)**.

   ![Интеграция оценок расходов](./Media/DW4ExpenseEstimates.png)

Двойная запись синхронизирует записи оценки расходов с таблицей промежуточного хранения, **ProjCDSEstimateExpenseImport**, а затем использует бизнес-логику для создания и обновления записей прогноза расходов (**ProjForecastCost**). В строках сметы записи сметы продаж и сметы затрат хранятся отдельно. Бизнес-логика в приложениях Finance and Operations заполняет одну запись прогноза расходов, используя эту информацию в таблице промежуточного хранения.

Бухгалтер проекта просматривает записи прогноза расходов в приложения Finance and Operations, перейдя в **Управление и учет для проектов** > **Все проекты** > **План** > **Прогнозы расходов**.

## <a name="material-estimates"></a>Оценки материалов

Оценки материалов создаются руководителем проекта на вкладка **Оценка материалов** на страница **Сведения о проекте** в Dataverse. Записи оценки материалов хранятся в сущности **Строка оценки** в Dataverse. Эти записи оценки имеют класс транзакции, **Материал** и синхронизируются с записями прогноза номенклатуры в приложениях Finance and Operations, использующие **Таблица интеграции по проекту для оценки материалов (msdyn\_estimatelines)**.

   ![Интеграция оценок материалов](./Media/DW4MaterialEstimates.png)

Двойная запись синхронизирует записи оценки материалов с таблицей промежуточного хранения, **ProjForecastSalesImpor**, а затем использует бизнес-логику для создания и обновления записей прогноза номенклатуры (**ForecastSales**). В строках сметы записи сметы продаж и сметы затрат хранятся отдельно. Бизнес-логика в приложениях Finance and Operations заполняет одну запись прогноза номенклатуры, используя эту информацию в таблице промежуточного хранения.

Бухгалтер проекта просматривает записи прогноза номенклатуры в приложения Finance and Operations, перейдя в **Управление и учет для проектов** > **Все проекты** > **План** > **Прогнозы номенклатуры**.

## <a name="project-actuals"></a>Фактические данные проекта

Фактические данные проекта создаются в Dataverse в зависимости от времени, расходов, материалов и выставления счетов. Все операционные атрибуты этих транзакций, включая количество, себестоимость, продажную цену и проект, отражаются в этой сущности Dataverse. Дополнительные сведения см. [Фактические значения](../actuals/actuals-overview.md). Записи фактических данных синхронизируются с приложениями Finance and Operations, использующие сопоставления таблиц с двойной записью **Фактические данные интеграции Project Operations (msdyn\_actuals**) для последующего учета.

   ![Интеграция фактических данных](./Media/DW4Actuals.png)

В **Фактические данные интеграции Project Operations** сопоставление таблиц синхронизирует все записи из сущности **Фактические данные** в Dataverse, с атрибутом **Пропустить синхронизацию (только для внутреннего использования)** установлен в **Ложь**. Значение этого атрибута устанавливается в Dataverse автоматически при создании записи. Примеры, в которых для этого атрибута установлено значение **Истина**:

  - Фактические данные стоимости проекта для внутрихолдинговых транзакций. Для получения дополнительной информации см. [Создавать внутрихолдинговые транзакции](../project-accounting/create-intercompany-transactions.md). Эти записи пропускаются, поскольку система воссоздает фактические данные стоимости проекта в приложения Finance and Operations при разноске внутрихолдинговой накладной поставщика.
  - Отрицательные записи продаж без выставления счета создаются при подтверждении счета-проформы. Эти записи пропускаются, потому что субкнига проекта в приложениях Finance and Operations не отменяет запись о продажах без выставления счета при выставлении счета, но меняет статус на полностью выставлен счет.

Сопоставление таблиц с двойной записью синхронизирует фактические записи с таблицей промежуточного хранения, **ProjCDSActualsImport**. Эти записи обрабатываются периодическим процессом **Импорт из таблицы промежуточного хранения** при создании строк журнала интеграции Project Operations и строк предложения по счетам по проекту. Для получения дополнительной информации см. [Журнал интеграции в Project Operations](../project-accounting/project-operations-integration-journal.md).

Dataverse также фиксирует связи между фактическими транзакциями проекта в сущности **Подключение транзакции**. Для получения дополнительной информации см. [Связь фактических данных с исходными записями](../actuals/linkingactuals.md). Связи между фактическими транзакциями также синхронизируются с приложениями Finance and Operations, использующие сопоставление таблиц с двойной записью, **Сущность интеграции для отношений транзакции проекта (msdyn\_transactionconnections)**. Эти записи используются периодическим процессом **Импорт из таблицы промежуточного хранения** при создании строк журнала интеграции Project Operations и строк предложения по счетам по проекту.

Разноска журнала интеграции Project Operations и предложения по счету по проекту запускает обновление соответствующих записей в таблице промежуточного хранения, **ProjCDSActualsImport**. Система фиксирует и записывает следующие атрибуты учета для фактических транзакций:

- Сумма валюты учета
- Валютный курс
- Код ваучера
- Сумма налога

Сопоставление таблиц **Фактические данные интеграции Project Operations** обновляет соответствующие записи фактических данных в Dataverse этой информацией.
