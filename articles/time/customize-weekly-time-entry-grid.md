---
title: Расширение записей времени
description: Эта тема предоставляет информацию о том, как разработчики могут расширить элемент управления ввода времени.
author: stsporen
manager: Annbe
ms.date: 10/08/2020
ms.topic: article
ms.service: dynamics-365-customerservice
ms.reviewer: kfend
ms.author: stsporen
ms.openlocfilehash: 190ad9e1f9ced690aee953ed992bf7aa2844c3b3
ms.sourcegitcommit: 11a61db54119503e82faec5f99c4273e8d1247e5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/16/2020
ms.locfileid: "4083087"
---
# <a name="extending-time-entries"></a><span data-ttu-id="0a018-103">Расширение записей времени</span><span class="sxs-lookup"><span data-stu-id="0a018-103">Extending time entries</span></span>

<span data-ttu-id="0a018-104">_**Относится к:** Project Operations для сценариев на основе ресурсов/нескладируемых запасов, упрощенное развертывание — от сделки до выставления счетов-фактур_</span><span class="sxs-lookup"><span data-stu-id="0a018-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios, Lite deployment - deal to proforma invoicing_</span></span>

<span data-ttu-id="0a018-105">Dynamics 365 Project Operations включает расширяемый настраиваемый элемент управления вводом времени.</span><span class="sxs-lookup"><span data-stu-id="0a018-105">Dynamics 365 Project Operations includes an extendable time entry custom control.</span></span> <span data-ttu-id="0a018-106">Этот элемент управления включает следующие функции:</span><span class="sxs-lookup"><span data-stu-id="0a018-106">This control includes the following features:</span></span>

- <span data-ttu-id="0a018-107">Ввод времени по горизонтали в течение недели</span><span class="sxs-lookup"><span data-stu-id="0a018-107">Enter time horizontally over a week</span></span>
- <span data-ttu-id="0a018-108">Итоги за день, строку или неделю</span><span class="sxs-lookup"><span data-stu-id="0a018-108">Totals by day, row, or week</span></span>
- <span data-ttu-id="0a018-109">Копирование строк или недель</span><span class="sxs-lookup"><span data-stu-id="0a018-109">Copy rows or weeks</span></span>
- <span data-ttu-id="0a018-110">Ввод времени через ЧЧ:мм или ЧЧ,чч (автоматически преобразуется в ЧЧ,чч)</span><span class="sxs-lookup"><span data-stu-id="0a018-110">Time entry through HH:mm or HH.hh (automatically converts to HH.hh)</span></span>
- <span data-ttu-id="0a018-111">Импорт из назначений, резервирований или встреч</span><span class="sxs-lookup"><span data-stu-id="0a018-111">Import from assignments, bookings, or appointments</span></span>

<span data-ttu-id="0a018-112">Расширение записей времени возможно в двух областях:</span><span class="sxs-lookup"><span data-stu-id="0a018-112">Extending time entries is possible in two areas:</span></span>
- [<span data-ttu-id="0a018-113">Добавление настраиваемых записей времени для собственного использования</span><span class="sxs-lookup"><span data-stu-id="0a018-113">Add custom time entries for your own use</span></span>](#add)
- [<span data-ttu-id="0a018-114">Настройка элемента управления недельной записи времени</span><span class="sxs-lookup"><span data-stu-id="0a018-114">Customize the weekly Time Entry control</span></span>](#customize)

## <a name="add-custom-time-entries-for-your-own-use"></a><a name="add"></a><span data-ttu-id="0a018-115">Добавьте настраиваемые записи времени для собственного использования</span><span class="sxs-lookup"><span data-stu-id="0a018-115">Add custom time entries for your own use</span></span>

<span data-ttu-id="0a018-116">Записи времени — это основная сущность, используемая во многих сценариях.</span><span class="sxs-lookup"><span data-stu-id="0a018-116">Time entries are a core entity used in multiple scenarios.</span></span> <span data-ttu-id="0a018-117">В волне 1 за апрель 2020 года было представлено базовое решение TESA.</span><span class="sxs-lookup"><span data-stu-id="0a018-117">In April Wave 1 2020, the TESA core solution was introduced.</span></span> <span data-ttu-id="0a018-118">TESA предоставляет сущность **Параметры** и новую роль безопасности **Пользователь с вводом времени**.</span><span class="sxs-lookup"><span data-stu-id="0a018-118">TESA provides a **Settings** entity and a new **Time Entry User** security role.</span></span> <span data-ttu-id="0a018-119">Новые поля, **msdyn_start** и **msdyn_end** , которые имеют прямое отношение к **msdyn_duration** , также были включены.</span><span class="sxs-lookup"><span data-stu-id="0a018-119">The new fields, **msdyn_start** and **msdyn_end** , which have a direct relation to **msdyn_duration** , were also included.</span></span> <span data-ttu-id="0a018-120">Новая сущность, роль безопасности и поля позволяют использовать более унифицированный подход к времени для нескольких продуктов.</span><span class="sxs-lookup"><span data-stu-id="0a018-120">The new entity, security role, and fields allow for a more unified approach to time across multiple products.</span></span>


### <a name="time-source-entity"></a><span data-ttu-id="0a018-121">Сущность источника времени</span><span class="sxs-lookup"><span data-stu-id="0a018-121">Time source entity</span></span>
| <span data-ttu-id="0a018-122">Поле</span><span class="sxs-lookup"><span data-stu-id="0a018-122">Field</span></span> | <span data-ttu-id="0a018-123">Описание:</span><span class="sxs-lookup"><span data-stu-id="0a018-123">Description</span></span> | 
|-------|------------|
| <span data-ttu-id="0a018-124">Название</span><span class="sxs-lookup"><span data-stu-id="0a018-124">Name</span></span>  | <span data-ttu-id="0a018-125">Имя записи источника времени, используемой в качестве значения выбора при создании записей времени.</span><span class="sxs-lookup"><span data-stu-id="0a018-125">The name of the Time source entry used as the selection value when creating time entries.</span></span> |
| <span data-ttu-id="0a018-126">Источник времени по умолчанию [Источник времени: isdefault]</span><span class="sxs-lookup"><span data-stu-id="0a018-126">Default Time Source [Time Source: isdefault]</span></span> | <span data-ttu-id="0a018-127">По умолчанию только один источник времени может быть отмечен как источник времени по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="0a018-127">By default, only one Time Source can be marked at the default.</span></span> <span data-ttu-id="0a018-128">Это позволяет записи по умолчанию использовать источник времени, если он не указан.</span><span class="sxs-lookup"><span data-stu-id="0a018-128">This allows for entries to default to a time source if one isn't specified.</span></span> |
|<span data-ttu-id="0a018-129">Тип источника времени [Источник времени: sourcetype]</span><span class="sxs-lookup"><span data-stu-id="0a018-129">Time Source Type [Time Source: sourcetype]</span></span> | <span data-ttu-id="0a018-130">Тип источника — это опция (Тип источника записи времени), которая позволяет связать источник времени с приложением.</span><span class="sxs-lookup"><span data-stu-id="0a018-130">The source type is an option (Time Entry Source Type) that allows for the association of the time source to an app.</span></span> <span data-ttu-id="0a018-131">Microsoft резервирует значения, превышающие 190 000 000.</span><span class="sxs-lookup"><span data-stu-id="0a018-131">Microsoft reserves values greater than 190,000,000.</span></span>|


### <a name="time-entries-and-the-time-source-entity"></a><span data-ttu-id="0a018-132">Записи времени и сущность источника времени</span><span class="sxs-lookup"><span data-stu-id="0a018-132">Time entries and the Time source entity</span></span>
<span data-ttu-id="0a018-133">Каждая запись времени связана с записью источника времени.</span><span class="sxs-lookup"><span data-stu-id="0a018-133">Each time entry is associated to a time source record.</span></span> <span data-ttu-id="0a018-134">Эта запись определяет, как и какие приложения должны обрабатывать запись времени.</span><span class="sxs-lookup"><span data-stu-id="0a018-134">This record determines how and which applications should process the time entry.</span></span>

<span data-ttu-id="0a018-135">Записи времени — это всегда один непрерывный блок времени с привязкой к началу, концу и продолжительности.</span><span class="sxs-lookup"><span data-stu-id="0a018-135">Time entries are always one contiguous block of time with the start, end, and duration linked.</span></span>

<span data-ttu-id="0a018-136">Логика автоматически обновит запись времени в следующих ситуациях:</span><span class="sxs-lookup"><span data-stu-id="0a018-136">The logic will automatically update the time entry record in the following situations:</span></span>

- <span data-ttu-id="0a018-137">Если указаны два из трех следующих полей, третье рассчитывается автоматически:</span><span class="sxs-lookup"><span data-stu-id="0a018-137">If two of the three following fields are provided, the third is calculated automatically:</span></span> 

    - <span data-ttu-id="0a018-138">**msdyn_start**</span><span class="sxs-lookup"><span data-stu-id="0a018-138">**msdyn_start**</span></span>
    - <span data-ttu-id="0a018-139">**msdyn_end**</span><span class="sxs-lookup"><span data-stu-id="0a018-139">**msdyn_end**</span></span>
    - <span data-ttu-id="0a018-140">**msdyn_duration**</span><span class="sxs-lookup"><span data-stu-id="0a018-140">**msdyn_duration**</span></span>

- <span data-ttu-id="0a018-141">Поля **msdyn_start** и **msdyn_end** учитывают часовой пояс.</span><span class="sxs-lookup"><span data-stu-id="0a018-141">The fields, **msdyn_start** and **msdyn_end** are timezone aware.</span></span>
- <span data-ttu-id="0a018-142">Записи времени, созданные только с указанием **msdyn_date** и **msdyn_duration** , начинаются в полночь.</span><span class="sxs-lookup"><span data-stu-id="0a018-142">Time entries created with only **msdyn_date** and **msdyn_duration** specified will start at midnight.</span></span> <span data-ttu-id="0a018-143">Поля **msdyn_start** и **msdyn_end** обновятся соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="0a018-143">The **msdyn_start** and **msdyn_end** fields will update accordingly.</span></span>

#### <a name="time-entry-types"></a><span data-ttu-id="0a018-144">Типы записей времени</span><span class="sxs-lookup"><span data-stu-id="0a018-144">Time entry types</span></span>

<span data-ttu-id="0a018-145">Записи ввода времени имеют связанный тип, который определяет поведение в потоке отправки для связанного приложения.</span><span class="sxs-lookup"><span data-stu-id="0a018-145">Time entry records have an associated type that defines the behavior in the submission flow for the associated application.</span></span>

|<span data-ttu-id="0a018-146">Ярлык</span><span class="sxs-lookup"><span data-stu-id="0a018-146">Label</span></span> | <span data-ttu-id="0a018-147">значение</span><span class="sxs-lookup"><span data-stu-id="0a018-147">Value</span></span>|
|-----|-----|
|<span data-ttu-id="0a018-148">На перерыве</span><span class="sxs-lookup"><span data-stu-id="0a018-148">On break</span></span>   |<span data-ttu-id="0a018-149">192,355,000</span><span class="sxs-lookup"><span data-stu-id="0a018-149">192,355,000</span></span>|
|<span data-ttu-id="0a018-150">Поездка</span><span class="sxs-lookup"><span data-stu-id="0a018-150">Travel</span></span> | <span data-ttu-id="0a018-151">192,355,001</span><span class="sxs-lookup"><span data-stu-id="0a018-151">192,355,001</span></span>|
|<span data-ttu-id="0a018-152">Сверхурочная работа</span><span class="sxs-lookup"><span data-stu-id="0a018-152">Overtime</span></span>   | <span data-ttu-id="0a018-153">192,354,320</span><span class="sxs-lookup"><span data-stu-id="0a018-153">192,354,320</span></span>|
|<span data-ttu-id="0a018-154">На работе</span><span class="sxs-lookup"><span data-stu-id="0a018-154">Work</span></span>   | <span data-ttu-id="0a018-155">192,350,000</span><span class="sxs-lookup"><span data-stu-id="0a018-155">192,350,000</span></span>|
|<span data-ttu-id="0a018-156">Отсутствие</span><span class="sxs-lookup"><span data-stu-id="0a018-156">Absence</span></span>    | <span data-ttu-id="0a018-157">192,350,001</span><span class="sxs-lookup"><span data-stu-id="0a018-157">192,350,001</span></span>|
|<span data-ttu-id="0a018-158">Отпуск</span><span class="sxs-lookup"><span data-stu-id="0a018-158">Vacation</span></span>   | <span data-ttu-id="0a018-159">192,350,002</span><span class="sxs-lookup"><span data-stu-id="0a018-159">192,350,002</span></span>|



## <a name="customize-the-weekly-time-entry-control"></a><a name="customize"></a><span data-ttu-id="0a018-160">Настройка элемента управления недельной записи времени</span><span class="sxs-lookup"><span data-stu-id="0a018-160">Customize the weekly Time entry control</span></span>
<span data-ttu-id="0a018-161">Разработчики могут добавлять дополнительные поля и поисковые запросы к другим сущностям, а также реализовывать настраиваемые бизнес-правила для поддержки своих бизнес-сценариев.</span><span class="sxs-lookup"><span data-stu-id="0a018-161">Developers can add additional fields and lookups to other entities, and implement custom business rules to support their business scenarios.</span></span>

### <a name="add-custom-fields-with-lookups-to-other-entities"></a><span data-ttu-id="0a018-162">Добавление пользовательских полей с подстановками в другие сущности</span><span class="sxs-lookup"><span data-stu-id="0a018-162">Add custom fields with lookups to other entities</span></span>
<span data-ttu-id="0a018-163">Существует три основных шага для добавления настраиваемого поля в сетку еженедельных записей времени.</span><span class="sxs-lookup"><span data-stu-id="0a018-163">There are three main steps to adding a custom field to the weekly time entry grid.</span></span>

1. <span data-ttu-id="0a018-164">Добавьте настраиваемое поле в диалоговое окно быстрого создания.</span><span class="sxs-lookup"><span data-stu-id="0a018-164">Add the custom field to the quick create dialog box.</span></span>
2. <span data-ttu-id="0a018-165">Настройте сетку для отображения настраиваемого поля.</span><span class="sxs-lookup"><span data-stu-id="0a018-165">Configure the grid to show the custom field.</span></span>
3. <span data-ttu-id="0a018-166">Добавьте настраиваемое поле в поток задач изменения строки или в поток задач изменения ячейки.</span><span class="sxs-lookup"><span data-stu-id="0a018-166">Add the custom field to the row edit task flow or the cell edit task flow.</span></span>

<span data-ttu-id="0a018-167">Убедитесь, что новое поле имеет необходимые проверки в потоке задач редактирования строки или ячейки.</span><span class="sxs-lookup"><span data-stu-id="0a018-167">Make sure that the new field has the required validations in the row or cell edit task flow.</span></span> <span data-ttu-id="0a018-168">В составе данного шага заблокируйте поле, основываясь на состоянии записи времени.</span><span class="sxs-lookup"><span data-stu-id="0a018-168">As part of this step, lock the field based on the time entry status.</span></span>

### <a name="add-the-custom-field-to-the-quick-create-dialog-box"></a><span data-ttu-id="0a018-169">Добавьте настраиваемое поле в диалоговое окно быстрого создания</span><span class="sxs-lookup"><span data-stu-id="0a018-169">Add the custom field to the quick create dialog box</span></span>
<span data-ttu-id="0a018-170">Добавьте настраиваемое поле в диалоговое окно **Быстрое создание записи времени**.</span><span class="sxs-lookup"><span data-stu-id="0a018-170">Add the custom field to the **Create Time Entry Quick Create** dialog box.</span></span> <span data-ttu-id="0a018-171">Затем, когда записи времени добавлены, можно ввести значение, выбрав **Создать**.</span><span class="sxs-lookup"><span data-stu-id="0a018-171">Then, when time entries are added, a value can be entered by selecting **New**.</span></span>

### <a name="configure-the-grid-to-show-the-custom-field"></a><span data-ttu-id="0a018-172">Настройте сетку для отображения настраиваемого поля</span><span class="sxs-lookup"><span data-stu-id="0a018-172">Configure the grid to show the custom field</span></span>
<span data-ttu-id="0a018-173">Существует два способа добавления настраиваемого поля в сетку еженедельных записей времени:</span><span class="sxs-lookup"><span data-stu-id="0a018-173">There are two ways add a custom field to the weekly time entry grid:</span></span>

  - <span data-ttu-id="0a018-174">Настройка представления и добавление настраиваемого поля</span><span class="sxs-lookup"><span data-stu-id="0a018-174">Customize a view and add a custom field</span></span>
  - <span data-ttu-id="0a018-175">Создание новой настраиваемой записи времени по умолчанию</span><span class="sxs-lookup"><span data-stu-id="0a018-175">Create a new default custom time entry</span></span> 


#### <a name="customize-a-view-and-add-a-custom-field"></a><span data-ttu-id="0a018-176">Настройка представления и добавление настраиваемого поля</span><span class="sxs-lookup"><span data-stu-id="0a018-176">Customize a view and add a custom field</span></span>

<span data-ttu-id="0a018-177">Настройте представление **Мои недельные записи времени** и добавьте в него настраиваемое поле.</span><span class="sxs-lookup"><span data-stu-id="0a018-177">Customize the **My Weekly Time Entries** view and add the custom field to it.</span></span> <span data-ttu-id="0a018-178">Можно выбрать положение и размер настраиваемого поля в сетке путем редактирования свойств в представлении.</span><span class="sxs-lookup"><span data-stu-id="0a018-178">You can choose the position and size of the custom field in the grid by editing the properties in the view.</span></span>

#### <a name="create-a-new-default-custom-time-entry"></a><span data-ttu-id="0a018-179">Создание новой настраиваемой записи времени по умолчанию</span><span class="sxs-lookup"><span data-stu-id="0a018-179">Create a new default custom time entry</span></span>

<span data-ttu-id="0a018-180">Это представление должно содержать поля **Описание** и **Внешние комментарии** , помимо столбцов, которые должны быть включены в сетку.</span><span class="sxs-lookup"><span data-stu-id="0a018-180">This view should contain the **Description** and **External Comments** fields, in addition to the columns that you want to have in the grid.</span></span> 

1. <span data-ttu-id="0a018-181">Выберите положение, размер и порядок сортировки по умолчанию сетки путем редактирования этих свойств в представлении.</span><span class="sxs-lookup"><span data-stu-id="0a018-181">Choose the position, size, and default sort order of the grid by editing those properties in the view.</span></span> 
2. <span data-ttu-id="0a018-182">Настройте настраиваемый элемент управления для этого представления, чтобы он был элемент управления **Сетка записей времени**.</span><span class="sxs-lookup"><span data-stu-id="0a018-182">Configure the custom control for this view so that it's a **Time Entry Grid** control.</span></span> 
3. <span data-ttu-id="0a018-183">Добавить этот элемент управления в представление и выберите его для Интернета, телефона и планшета.</span><span class="sxs-lookup"><span data-stu-id="0a018-183">Add this control to the view, and select it for web, phone, and tablet.</span></span> 
4. <span data-ttu-id="0a018-184">Настройте параметры сетки недельной записи времени.</span><span class="sxs-lookup"><span data-stu-id="0a018-184">Configure the parameters for the weekly time entry grid.</span></span> 
5. <span data-ttu-id="0a018-185">Задайте для поля **Дата начала** значение **msdyn_date** , для поля **Длительность** — значение **msdyn_duration** , а для поля **Состояние** — значение **msdyn_entrystatus**.</span><span class="sxs-lookup"><span data-stu-id="0a018-185">Set the **Start Date** field to **msdyn_date** , set the **Duration** field to **msdyn_duration** , and set the **Status** field to **msdyn_entrystatus**.</span></span> 
6. <span data-ttu-id="0a018-186">Для представления по умолчанию в поле **Список состояний только для чтения** установлено значение **192350002,192350003,192350004**.</span><span class="sxs-lookup"><span data-stu-id="0a018-186">For the default view, the **Read-only Status List** field is set to **192350002,192350003,192350004**.</span></span> <span data-ttu-id="0a018-187">В поле **Поток задач редактирования строки** установлено значение **msdyn_timeentryrowedit**.</span><span class="sxs-lookup"><span data-stu-id="0a018-187">The **Row Edit Task Flow** field is set to **msdyn_timeentryrowedit**.</span></span> <span data-ttu-id="0a018-188">В поле **Поток задач редактирования ячейки** установлено значение **msdyn_timeentryedit**.</span><span class="sxs-lookup"><span data-stu-id="0a018-188">The **Cell Edit Task Flow** field is set to **msdyn_timeentryedit**.</span></span> 
7. <span data-ttu-id="0a018-189">Можно настроить эти поля для добавления или удаления состояния только для чтения или для использования другого взаимодействия на основе задач (TBX) для редактирования строк или ячеек.</span><span class="sxs-lookup"><span data-stu-id="0a018-189">You can customize these fields to add or remove read-only status, or to use a different task-based experience (TBX) for row or cell editing.</span></span> <span data-ttu-id="0a018-190">Эти поля теперь связаны со статическим значением.</span><span class="sxs-lookup"><span data-stu-id="0a018-190">These fields are now bound to a static value.</span></span>


> [!NOTE] 
> <span data-ttu-id="0a018-191">Оба варианта извлекут некоторую готовую фильтрацию по сущностям **Проект** и **Задача проекта** , чтобы все представления подстановки для этих сущностей были видны.</span><span class="sxs-lookup"><span data-stu-id="0a018-191">Both options will remove some out-of-box filtering on the **Project** and **Project Task** entities so that all lookup views for the entities will be visible.</span></span> <span data-ttu-id="0a018-192">В готовом виде только соответствующие представления подстановки отображаются.</span><span class="sxs-lookup"><span data-stu-id="0a018-192">Out-of-the-box, only the relevant lookup views are visible.</span></span>

<span data-ttu-id="0a018-193">Определите соответствующий поток задач для настраиваемого поля.</span><span class="sxs-lookup"><span data-stu-id="0a018-193">Determine the appropriate task flow for the custom field.</span></span> <span data-ttu-id="0a018-194">Если вы добавили поле в сетку, оно должно идти в поток задач редактирования строки, используемый для полей, которые применяются к целой строке записей времени.</span><span class="sxs-lookup"><span data-stu-id="0a018-194">If you added the field to the grid, it should go in the row edit task flow that is used for fields that apply to the whole row of time entries.</span></span> <span data-ttu-id="0a018-195">Если настраиваемое поле имеет уникальное значение каждый день, например настраиваемое поле **Время окончания** , оно должно быть назначено потоку задач редактирования ячейки.</span><span class="sxs-lookup"><span data-stu-id="0a018-195">If the custom field has a unique value every day, such as a custom field for **End time** , it should go in the cell edit task flow.</span></span>

<span data-ttu-id="0a018-196">Для добавления настраиваемого поля в поток задач перетащите элемент **Поле** в нужное положение на странице, затем задайте свойства поля.</span><span class="sxs-lookup"><span data-stu-id="0a018-196">To add the custom field to a task flow, drag a **Field** element into the appropriate position on the page, and then set the field properties.</span></span> <span data-ttu-id="0a018-197">Задайте для свойства **Источника** значение **Запись времени** , а для свойства **Поле данных** задайте настраиваемое поле.</span><span class="sxs-lookup"><span data-stu-id="0a018-197">Set the **Source** property to **Time Entry** , and set the **Data Field** property to the custom field.</span></span> <span data-ttu-id="0a018-198">Свойство **Поле** задает отображаемое имя на странице TBX.</span><span class="sxs-lookup"><span data-stu-id="0a018-198">The **Field** property specifies the display name on the TBX page.</span></span> <span data-ttu-id="0a018-199">Выберите **Применять** , чтобы сохранить изменения в поле, затем выберите **Обновить** , чтобы сохранить изменения на странице.</span><span class="sxs-lookup"><span data-stu-id="0a018-199">Select **Apply** to save your changes to the field, and then select **Update** to save your changes to the page.</span></span>

<span data-ttu-id="0a018-200">Чтобы использовать вместо этого новую настраиваемую страницу TBX, создайте новый процесс.</span><span class="sxs-lookup"><span data-stu-id="0a018-200">To use a new custom TBX page instead, create a new process.</span></span> <span data-ttu-id="0a018-201">Задайте категорию **Последовательность операций бизнес-процесса** , задайте сущность **Запись времени** и задайте тип бизнес-процесса **Запускать процесс как поток задач**.</span><span class="sxs-lookup"><span data-stu-id="0a018-201">Set the category to **Business Process Flow** , set the entity to **Time Entry** , and set the business process type to **Run process as a task flow**.</span></span> <span data-ttu-id="0a018-202">В разделе **Свойства** свойство **Имя страницы** должно быть установлено на отображаемое имя для страницы.</span><span class="sxs-lookup"><span data-stu-id="0a018-202">Under **Properties** , the **Page name** property should be set to the display name for the page.</span></span> <span data-ttu-id="0a018-203">Добавьте все соответствующие поля на страницу TBX.</span><span class="sxs-lookup"><span data-stu-id="0a018-203">Add all the relevant fields to the TBX page.</span></span> <span data-ttu-id="0a018-204">Сохраните и активируйте процесс.</span><span class="sxs-lookup"><span data-stu-id="0a018-204">Save and activate the process.</span></span> <span data-ttu-id="0a018-205">Обновите свойство настраиваемого элемента управления для соответствующего потока задач на значение **Имя** в процессе.</span><span class="sxs-lookup"><span data-stu-id="0a018-205">Update the custom control property for the relevant task flow to the value of **Name** on the process.</span></span>

### <a name="add-new-option-set-values"></a><span data-ttu-id="0a018-206">Добавление новых значений набора параметров</span><span class="sxs-lookup"><span data-stu-id="0a018-206">Add new option set values</span></span>
<span data-ttu-id="0a018-207">Для добавления значений набора параметров с готовое поле откройте страницу редактирование для поля, и в разделе **Тип** , выберите **Изменить** рядом с набором параметров.</span><span class="sxs-lookup"><span data-stu-id="0a018-207">To add option set values to an out-of-the-box field, open the editing page for the field, and under **Type** , select **Edit** next to the option set.</span></span> <span data-ttu-id="0a018-208">Добавьте новый параметр, имеющий настраиваемую подпись и цвет.</span><span class="sxs-lookup"><span data-stu-id="0a018-208">Add a new option that has a custom label and color.</span></span> <span data-ttu-id="0a018-209">Если требуется добавить новое состояние записи времени, готовое поле называется **Состояние записи** , а не **Состояние**.</span><span class="sxs-lookup"><span data-stu-id="0a018-209">If you want to add a new time entry status, the out-of-the-box field is named **Entry Status** , not **Status**.</span></span>

### <a name="designate-a-new-time-entry-status-as-read-only"></a><span data-ttu-id="0a018-210">Назначение новому состоянию записи времени доступа только для чтения</span><span class="sxs-lookup"><span data-stu-id="0a018-210">Designate a new time entry status as read-only</span></span>
<span data-ttu-id="0a018-211">Чтобы сделать новое состояние записи времени доступным только для чтения, добавьте новое значение записи времени в свойство **Список состояний только для чтения**.</span><span class="sxs-lookup"><span data-stu-id="0a018-211">To designate a new time entry status as read-only, add the new time entry value to the **Read-only Status List** property.</span></span> <span data-ttu-id="0a018-212">Изменяемая часть сетки записи времени будет заблокирована для строк в этом новом состоянии.</span><span class="sxs-lookup"><span data-stu-id="0a018-212">The editable part of the time entry grid will be locked for rows that have the new status.</span></span>
<span data-ttu-id="0a018-213">Далее, добавьте бизнес-правила, чтобы заблокировать все поля на страницах TBX **Изменение строки записи времени** и **Изменение записи времени**.</span><span class="sxs-lookup"><span data-stu-id="0a018-213">Next, add business rules to lock all the fields on the **Time Entry Row Edit** and **Time Entry Edit** TBX pages.</span></span> <span data-ttu-id="0a018-214">Можно получить доступ к бизнес-правилам для этих страниц, открыв редактор последовательности операций бизнес-процесса для этой страницы, затем выбрав **Бизнес-правила**.</span><span class="sxs-lookup"><span data-stu-id="0a018-214">You can access the business rules for these pages by opening the business process flow editor for the page and then selecting **Business Rules**.</span></span> <span data-ttu-id="0a018-215">Можно добавить новое состояние в условие в существующих бизнес-правилах или можно добавить новое бизнес-правило для нового состояния.</span><span class="sxs-lookup"><span data-stu-id="0a018-215">You can add the new status to the condition in the existing business rules, or you can add a new business rule for the new status.</span></span>

### <a name="add-custom-validation-rules"></a><span data-ttu-id="0a018-216">Добавление настраиваемых правил проверки</span><span class="sxs-lookup"><span data-stu-id="0a018-216">Add custom validation rules</span></span>
<span data-ttu-id="0a018-217">Есть два типа правил проверки, которые вы можете добавить для еженедельной сетки ввода времени:</span><span class="sxs-lookup"><span data-stu-id="0a018-217">There are two types of validation rules that you can add for the weekly time entry grid experience:</span></span>

- <span data-ttu-id="0a018-218">Клиентские бизнес-правила, которые работают в диалоговых окнах быстрого создания и на страницах ТВХ.</span><span class="sxs-lookup"><span data-stu-id="0a018-218">Client-side business rules that work in quick create dialog boxes and on TBX pages.</span></span>
- <span data-ttu-id="0a018-219">Проверки подключаемых модулей на стороне сервера, которые применяются ко всем обновлениям записей времени.</span><span class="sxs-lookup"><span data-stu-id="0a018-219">Server-side plug-in validations that apply to all time entry updates.</span></span>

#### <a name="business-rules"></a><span data-ttu-id="0a018-220">Бизнес-правила</span><span class="sxs-lookup"><span data-stu-id="0a018-220">Business rules</span></span>
<span data-ttu-id="0a018-221">Используйте бизнес-правила для блокировки и разблокировки полей, ввода значений по умолчанию в поля и определения проверок, которые требуют информации только из текущей записи ввода времени.</span><span class="sxs-lookup"><span data-stu-id="0a018-221">Use business rules to lock and unlock fields, enter default values in fields, and define validations that require information only from the current time entry record.</span></span> <span data-ttu-id="0a018-222">Можно получить доступ к бизнес-правилам для страницы TBX, открыв редактор последовательности операций бизнес-процесса для этой страницы, затем выбрав **Бизнес-правила**.</span><span class="sxs-lookup"><span data-stu-id="0a018-222">You can access the business rules for a TBX page by opening the business process flow editor for the page and then selecting **Business Rules**.</span></span> <span data-ttu-id="0a018-223">Затем можно изменять существующие правила бизнес-правила или добавить новое бизнес-правило.</span><span class="sxs-lookup"><span data-stu-id="0a018-223">You can then edit the existing business rules or add a new business rule.</span></span> <span data-ttu-id="0a018-224">Для еще более настроенных проверок можно использовать бизнес-правило для выполнения кода JavaScript.</span><span class="sxs-lookup"><span data-stu-id="0a018-224">For even more customized validations, you can use a business rule to run JavaScript.</span></span>

#### <a name="plug-in-validations"></a><span data-ttu-id="0a018-225">Подключаемые модули проверки</span><span class="sxs-lookup"><span data-stu-id="0a018-225">Plug-in validations</span></span>
<span data-ttu-id="0a018-226">Используйте подключаемые модули проверки для любых проверок, для которых требуется больше контекста, чем доступно в одной записи ввода времени, или для любых проверок, которые требуется выполнять при встроенных обновлениях в сетке.</span><span class="sxs-lookup"><span data-stu-id="0a018-226">Use plug-in validations for any validations that require more context than is available in a single time entry record, or for any validations that you want to run on inline updates in the grid.</span></span> <span data-ttu-id="0a018-227">Для выполнения проверки создайте настраиваемый подключаемый модуль для сущности **Запись времени**.</span><span class="sxs-lookup"><span data-stu-id="0a018-227">To complete the validation, create a custom plug-in on the **Time Entry** entity.</span></span>

### <a name="copying-time-entries"></a><span data-ttu-id="0a018-228">Копирование записей времени</span><span class="sxs-lookup"><span data-stu-id="0a018-228">Copying time entries</span></span>
<span data-ttu-id="0a018-229">Используйте представление **Копировать столбцы записи времени** для определения списка полей для копирования во время ввода времени.</span><span class="sxs-lookup"><span data-stu-id="0a018-229">Use the view **Copy Time Entry Columns** to define the list of fields to copy during time entry.</span></span> <span data-ttu-id="0a018-230">**Дата** и **Длительность** являются обязательными полями и не должны удаляться из представления.</span><span class="sxs-lookup"><span data-stu-id="0a018-230">**Date** and **Duration** are required fields and shouldn't be removed from the view.</span></span>
