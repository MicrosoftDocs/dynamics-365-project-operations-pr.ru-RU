---
title: Добавление настраиваемых полей к настройке цены и транзакционным сущностям
description: В этом разделе представлена информация о добавлении настраиваемых полей настройку цены и транзакционные сущности.
author: Rumant
manager: kfend
ms.custom:
- dyn365-projectservice
ms.date: 10/01/2020
ms.topic: article
ms.service: business-applications
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: 32d0dbc3a69d713dcae8d27e52f2a0c6fc296127
ms.sourcegitcommit: 5c4c9bf3ba018562d6cb3443c01d550489c415fa
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/16/2020
ms.locfileid: "4083294"
---
# <a name="add-custom-fields-to-price-setup-and-transactional-entities"></a><span data-ttu-id="6c814-103">Добавление настраиваемых полей к настройке цены и транзакционным сущностям</span><span class="sxs-lookup"><span data-stu-id="6c814-103">Add custom fields to price setup and transactional entities</span></span> 
<span data-ttu-id="6c814-104">В этом разделе предполагается, что пользователь выполнил процедуры из раздела [Создание настраиваемых полей и сущностей](create-custom-fields-entities.md).</span><span class="sxs-lookup"><span data-stu-id="6c814-104">This topic assumes that you have completed the procedures in the topic, [Create custom fields and entities](create-custom-fields-entities.md).</span></span> <span data-ttu-id="6c814-105">Если вы еще не завершили эти процедуры, вернитесь и выполните их, а затем вернитесь к этому разделу.</span><span class="sxs-lookup"><span data-stu-id="6c814-105">If you haven't completed those procedures, go back and complete them and then return to this topic.</span></span> 

<span data-ttu-id="6c814-106">В этом разделе процедуры покажут, как добавить необходимые ссылки на настраиваемые поля в сущности и в элементы пользовательского интерфейса (UI), такие как формы и представления.</span><span class="sxs-lookup"><span data-stu-id="6c814-106">In this topic, the procedures will show you how to add the required custom field references to entities and to the user interface (UI) elements such as forms and views.</span></span>

## <a name="add-custom-pricing-dimension-fields"></a><span data-ttu-id="6c814-107">Добавление настраиваемых полей аналитики ценообразования</span><span class="sxs-lookup"><span data-stu-id="6c814-107">Add custom pricing dimension fields</span></span> 
<span data-ttu-id="6c814-108">После создания настраиваемых полей и сущностей следующим шагом будет сделать так, чтобы настройка цены и транзакционные сущности учитывали все настраиваемые сущности или наборы параметров, путем создания ссылочных полей.</span><span class="sxs-lookup"><span data-stu-id="6c814-108">After custom fields and entities have been created, the next step is to make price setup and transactional entities aware of any custom entities or option sets by creating reference fields.</span></span> <span data-ttu-id="6c814-109">В зависимости от того, включает ли ваш список аналитик ценообразования аналитики набора параметров, аналитики сущностей или и то, и другое, выполните только шаги из раздела **Настраиваемые аналитики ценообразования на основе набора параметров** или **Настраиваемые аналитики ценообразования на основе сущностей** , или из обоих разделов, соответственно.</span><span class="sxs-lookup"><span data-stu-id="6c814-109">Depending on whether your pricing dimensions list includes option set dimensions or entity dimensions or both, follow only the steps in **Option set-based custom pricing dimensions** or **Entity-based custom pricing dimensions** , or both, respectively.</span></span>

### <a name="option-set-based-custom-pricing-dimensions"></a><span data-ttu-id="6c814-110">Настраиваемые аналитики ценообразования на основе набора параметров</span><span class="sxs-lookup"><span data-stu-id="6c814-110">Option set-based custom pricing dimensions</span></span>
<span data-ttu-id="6c814-111">Если настраиваемая аналитика ценообразования основана на наборе параметров, добавьте ее в качестве поля в основные сущности Project Service.</span><span class="sxs-lookup"><span data-stu-id="6c814-111">When a custom pricing dimension is option set-based, add it as a field to key Project Service entities.</span></span> <span data-ttu-id="6c814-112">В следующей процедуре аналитики **Место работы ресурса** и **Рабочие часы ресурса** используются в качестве аналитик ценообразования на основе набора параметров.</span><span class="sxs-lookup"><span data-stu-id="6c814-112">In the following procedure, **Resource Work Location** and **Resource Work Hours** are used as the option set-based pricing dimensions.</span></span> <span data-ttu-id="6c814-113">Они должны быть сначала добавлены как поля в сущности ценообразования, **Цена роли** и **Надбавка цены роли**.</span><span class="sxs-lookup"><span data-stu-id="6c814-113">These must first be added as fields to the pricing entities, **Role Price** and **Role Price Markup**.</span></span>

1. <span data-ttu-id="6c814-114">В Project Service Automation (PSA) щелкните **Параметры** > **Решения** , затем дважды щелкните **Аналитики ценообразования \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="6c814-114">In Project Service Automation (PSA), click **Settings** > **Solutions** , and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="6c814-115">В обозревателе решений в левой навигационной панели выберите **Сущности > Цена роли**.</span><span class="sxs-lookup"><span data-stu-id="6c814-115">In Solution Explorer, on the left navigation pane, select **Entities > Role Price**.</span></span>
3. <span data-ttu-id="6c814-116">Разверните сущность **Цена роли** и выберите пункт **Поля**.</span><span class="sxs-lookup"><span data-stu-id="6c814-116">Expand the entity **Role Price** and select **Fields**.</span></span>
4. <span data-ttu-id="6c814-117">Щелкните **Создать** , чтобы создать новое поле с именем **Место работы ресурса** и выберите **Набор параметров** в качестве типа поля.</span><span class="sxs-lookup"><span data-stu-id="6c814-117">Click **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="6c814-118">Выберите **Использовать существующий набор параметров** , выберите набор параметров **Место работы ресурса** , затем щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="6c814-118">Select **Use an existing Option set** , select the **Resource Work Location** option set, and then click **Save**.</span></span>
6. <span data-ttu-id="6c814-119">Повторите шаги с 1 по 5 для добавления этого поля в сущность **Надбавка цены роли**.</span><span class="sxs-lookup"><span data-stu-id="6c814-119">Repeat steps 1 - 5 to add this field to the **Role Price Markup** entity.</span></span> 
7. <span data-ttu-id="6c814-120">Повторите шаги с 1 по 5 для набора параметров **Рабочие часы ресурса**.</span><span class="sxs-lookup"><span data-stu-id="6c814-120">Repeat steps 1 - 5 for the **Resource Work Hours** option set.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="6c814-121">При добавлении поля в несколько сущностей используйте одинаковое имя поля для всех сущностей.</span><span class="sxs-lookup"><span data-stu-id="6c814-121">When you add a field to more than one entity, use the same field name across all of the entities.</span></span> 

> ![Добавление места работы ресурса в цену роли](media/RWL-Field.png)

<span data-ttu-id="6c814-123">На этапах продажи и оценки для проекта оценки усилий работы, необходимых для выполнения **Локальной** и **На месте** работы, в **обычных часах** и **сверхурочных часах** используются для оценки стоимости предложения с расценками/проекта.</span><span class="sxs-lookup"><span data-stu-id="6c814-123">In the sales and estimation phases for a project, estimates of the work effort that is required to complete **Local** and **Onsite** work, in **Regular hours** and **Overtime hours**  are used to estimate the value of the Quote/Project.</span></span> <span data-ttu-id="6c814-124">Поля **Место работы ресурса** и **Рабочие часы ресурса** будут добавлены в сущности оценки, **Сведения строки предложения с расценками** , **Сведения строки контракта** , **Задача проекта** , **Участник проектной группы** и **Строка оценки**.</span><span class="sxs-lookup"><span data-stu-id="6c814-124">The fields **Resource Work Location** and **Resource Work Hours** will be added to the estimation entities, **Quote Line Detail** , **Contract Line detail** , **Project Task** , **Project Team Member** , and **Estimate Line**.</span></span>

1. <span data-ttu-id="6c814-125">В PSA щелкните **Параметры** > **Решения** и затем дважды щелкните **Измерения ценообразования \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="6c814-125">In PSA, click **Settings** > **Solutions** , and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="6c814-126">В обозревателе решений в левой навигационной панели выберите **Сущности > Сведения строки предложения с расценками**.</span><span class="sxs-lookup"><span data-stu-id="6c814-126">In Solution Explorer, on the left navigation pane, select **Entities > Quote Line Detail**.</span></span>
3. <span data-ttu-id="6c814-127">Разверните сущность **Сведения строки предложения с расценками** и выберите **Поля**.</span><span class="sxs-lookup"><span data-stu-id="6c814-127">Expand the **Quote Line Detail** entity, and select **Fields**.</span></span>
4. <span data-ttu-id="6c814-128">Щелкните **Создать** , чтобы создать новое поле с именем **Место работы ресурса** и выберите тип поля **Набор параметров**.</span><span class="sxs-lookup"><span data-stu-id="6c814-128">Click **New** to create a new field called **Resource Work Location** and select the field type, **Option set**.</span></span> 
5. <span data-ttu-id="6c814-129">Выберите **Использовать существующий набор параметров** и **Место работы ресурса** , затем щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="6c814-129">Select **Use an existing Option set** and **Resource Work Location** , and then click **Save**.</span></span>
6. <span data-ttu-id="6c814-130">Повторите шаги с 1 по 5 для добавления этого поля в сущности **Сведения строки контракта проекта** , **Задача проекта** , **Участник проектной группы** и **Строка оценки**.</span><span class="sxs-lookup"><span data-stu-id="6c814-130">Repeat steps 1 - 5 to add this field to the **Project Contract line detail** , **Project Task** , **Project Team Member** , and **Estimate Line** entities.</span></span>
7. <span data-ttu-id="6c814-131">Повторите шаги с 1 по 6 для набора параметров **Рабочие часы ресурса**.</span><span class="sxs-lookup"><span data-stu-id="6c814-131">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![Добавление места работы ресурса в строку оценки](media/RWL-Default-Value.png)


<span data-ttu-id="6c814-133">Для доставки и выставления счетов выполненную работу необходимо точно оценить, чтобы выбрать, была ли она выполнена **Локально** или **На месте** и была ли она завершена во время **Обычных часов** или **Сверхурочных часов** в фактических данных проекта.</span><span class="sxs-lookup"><span data-stu-id="6c814-133">For delivery and invoicing, completed work needs to be accurately priced to select whether it was performed **Local** or **Onsite** , and whether it was completed during **Regular hours** or **Overtime** on the Project Actuals.</span></span> <span data-ttu-id="6c814-134">Поля **Место работы ресурса** и **Рабочие часы ресурса** необходимо добавить в сущности **Запись времени** , **Факт** , **Сведения строки счета** и **Строка журнала**.</span><span class="sxs-lookup"><span data-stu-id="6c814-134">The **Resource Work Location** and **Resource Work hours** fields should be added to the **Time Entry** , **Actual** , **Invoice Line Detail** , and **Journal Line** entities.</span></span>

1. <span data-ttu-id="6c814-135">В PSA щелкните **Параметры** > **Решения** и затем дважды щелкните **Измерения ценообразования \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="6c814-135">In PSA, click **Settings** > **Solutions** , and then double-click **\<your organization name> pricing dimensions**.</span></span>
2. <span data-ttu-id="6c814-136">В обозревателе решений в левой навигационной панели выберите **Сущности > Запись времени**.</span><span class="sxs-lookup"><span data-stu-id="6c814-136">In Solution Explorer, on the left navigation pane, select  **Entities > Time Entry**.</span></span>
3. <span data-ttu-id="6c814-137">Разверните сущность **Сведения строки предложения с расценками** , затем выберите **Поля**.</span><span class="sxs-lookup"><span data-stu-id="6c814-137">Expand the **Quote Line Detail** entity, and then select **Fields**.</span></span>
4. <span data-ttu-id="6c814-138">Щелкните **Создать** , чтобы создать новое поле с именем **Место работы ресурса** и выберите **Набор параметров** в качестве типа поля.</span><span class="sxs-lookup"><span data-stu-id="6c814-138">Click **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="6c814-139">Выберите **Использовать существующий набор параметров** , выберите набор параметров **Место работы ресурса** , затем щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="6c814-139">Select **Use an existing Option set** , select the **Resource Work Location** option set, and then click **Save**.</span></span>
6. <span data-ttu-id="6c814-140">Повторите шаги с 1 по 5 для добавления этого в сущности **Факт** , **Сведения строки счета** и **Строка журнала**.</span><span class="sxs-lookup"><span data-stu-id="6c814-140">Repeat steps 1 - 5 to add this field to the **Actual** , **Invoice Line Detail** , and **Journal Line** entities.</span></span>
7. <span data-ttu-id="6c814-141">Повторите шаги с 1 по 6 для набора параметров **Рабочие часы ресурса**.</span><span class="sxs-lookup"><span data-stu-id="6c814-141">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![Добавление места работы ресурса в строку журнала](media/RWL-time-entry.png)

<span data-ttu-id="6c814-143">Это завершает изменения схемы, необходимые для настраиваемых аналитик на основе набора параметров.</span><span class="sxs-lookup"><span data-stu-id="6c814-143">This completes the schema changes required for option set-based custom dimensions.</span></span>

## <a name="entity-based-custom-pricing-dimensions"></a><span data-ttu-id="6c814-144">Настраиваемые аналитики ценообразования на основе сущностей</span><span class="sxs-lookup"><span data-stu-id="6c814-144">Entity-based custom pricing dimensions</span></span>

<span data-ttu-id="6c814-145">Если настраиваемая аналитики ценообразования является сущностью, вы добавляете отношения 1:N между сущностью аналитики и основными сущностями Project Service.</span><span class="sxs-lookup"><span data-stu-id="6c814-145">When the custom pricing dimension is an entity, you will add 1:N relationships between the dimension entity and key Project Service entities.</span></span> <span data-ttu-id="6c814-146">Используя пример стандартного заголовка выше, разумно ожидать, что каждому сотруднику назначен стандартный заголовок.</span><span class="sxs-lookup"><span data-stu-id="6c814-146">Using the Standard Title example from above, it is reasonable to expect that each employee is assigned a standard title.</span></span> <span data-ttu-id="6c814-147">В результате потребуется отношение 1:N из стандартного заголовка в резервируемый ресурс или отношение N:1, если оно было создано из резервируемого ресурса в стандартный заголовок.</span><span class="sxs-lookup"><span data-stu-id="6c814-147">SAs a result, you will need a 1:N relationship from Standard Title to Bookable Resource, or a N:1 relationship if it were created from Bookable Resource to Standard Title.</span></span>

1. <span data-ttu-id="6c814-148">В PSA щелкните **Параметры** > **Решения** и затем дважды щелкните **Измерения ценообразования \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="6c814-148">In PSA, click **Settings** > **Solutions** , and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="6c814-149">В обозревателе решений в левой навигационной панели выберите **Сущности > Стандартный заголовок**.</span><span class="sxs-lookup"><span data-stu-id="6c814-149">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
3. <span data-ttu-id="6c814-150">Разверните сущность **Стандартный заголовок** и выберите **Отношения 1: N**.</span><span class="sxs-lookup"><span data-stu-id="6c814-150">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
4. <span data-ttu-id="6c814-151">Щелкните **Создать** , чтобы создать новое отношение 1: N, называющееся **Стандартный заголовок в резервируемый ресурс**.</span><span class="sxs-lookup"><span data-stu-id="6c814-151">Click **New** to create a new 1:N relationship called **Standard Title to Bookable Resource**.</span></span> <span data-ttu-id="6c814-152">Введите обязательные сведения, затем щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="6c814-152">Enter the required information, and then click **Save**.</span></span>

> ![Добавление стандартного заголовка как поля ссылки на резервируемый ресурс](media/ST-BR.png)

<span data-ttu-id="6c814-154">Стандартный заголовок также потребуется добавить в сущности ценообразования Project Service, **Цена роли** и **Наценка цены роли**.</span><span class="sxs-lookup"><span data-stu-id="6c814-154">The Standard Title will also need to be added to Project Service Pricing entities, **Role Price** and **Role Price Markup**.</span></span> <span data-ttu-id="6c814-155">Это также выполняется с помощью отношения 1:N между сущностями **Стандартный заголовок** и **Цена роли** и сущностями **Стандартный заголовок** и **Наценка цены роли**.</span><span class="sxs-lookup"><span data-stu-id="6c814-155">This is also completed using 1:N relationships between the **Standard Title** and **Role Price** entities and **Standard Title** and **Role Price Markup** entities.</span></span>

1. <span data-ttu-id="6c814-156">В обозревателе решений в левой навигационной панели выберите **Сущности > Стандартный заголовок**.</span><span class="sxs-lookup"><span data-stu-id="6c814-156">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="6c814-157">Разверните сущность **Стандартный заголовок** и выберите **Отношения 1: N**.</span><span class="sxs-lookup"><span data-stu-id="6c814-157">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="6c814-158">Щелкните **Создать** , чтобы создать новое отношение 1: N, называющееся **Стандартный заголовок в цену роли**.</span><span class="sxs-lookup"><span data-stu-id="6c814-158">Click **New** to create a new 1:N relationship called **Standard Title to Role Price**.</span></span> <span data-ttu-id="6c814-159">Введите обязательные сведения, затем щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="6c814-159">Enter the required information, and then click **Save**.</span></span>
4. <span data-ttu-id="6c814-160">Повторите шаги с 1 по 4 для создания отношения 1:N между сущностями **Стандартный заголовок** и **Наценка цены роли**.</span><span class="sxs-lookup"><span data-stu-id="6c814-160">Repeat steps 1 - 4 to create 1:N relationships between the **Standard Title** and **Role Price Markup** entities,</span></span>

<span data-ttu-id="6c814-161">На этапах продажи и оценки проекта для определения цены предложения с расценками/проекта требуются оценки усилий работы для каждого стандартного заголовка.</span><span class="sxs-lookup"><span data-stu-id="6c814-161">In the sales and estimation phases for the project, to price the Quote/Project, estimates of the work effort are required for each standard title.</span></span> <span data-ttu-id="6c814-162">Это означает, что требуются отношения 1:N из стандартного заголовка с каждой из этих сущностей оценки в Project Service:</span><span class="sxs-lookup"><span data-stu-id="6c814-162">This means that 1:N relationships from Standard Title to each of these estimation entities in Project Service are needed:</span></span> 

- <span data-ttu-id="6c814-163">**Сведения строки предложения с расценками**</span><span class="sxs-lookup"><span data-stu-id="6c814-163">**Quote line Detail**</span></span>
- <span data-ttu-id="6c814-164">**Сведения строки контракта проекта**</span><span class="sxs-lookup"><span data-stu-id="6c814-164">**Project Contract Line Detail**</span></span>
- <span data-ttu-id="6c814-165">**Задача проекта**</span><span class="sxs-lookup"><span data-stu-id="6c814-165">**Project Task**</span></span>
- <span data-ttu-id="6c814-166">**Участник проектной группы**</span><span class="sxs-lookup"><span data-stu-id="6c814-166">**Project Team Member**</span></span>
- <span data-ttu-id="6c814-167">**Строка оценки**</span><span class="sxs-lookup"><span data-stu-id="6c814-167">**Estimate Line**</span></span>

5. <span data-ttu-id="6c814-168">Повторите шаги с 1 по 5 для создания отношения 1:N из сущности **Стандартный заголовок** в сущности **Сведения строки предложения с расценками** , **Сведения строки контракта проекта** , **Задача проекта** , **Участник проектной группы** и **Строка оценки**.</span><span class="sxs-lookup"><span data-stu-id="6c814-168">Repeat steps 1 - 5 to create 1:N relationships from **Standard Title** to **Quote line Detail** , **Project Contract Line Detail** , **Project Task** , **Project Team Member** , and **Estimate Line**.</span></span>

> ![Добавление стандартного заголовка как поля ссылки на строку оценки](media/ST-Estimate-Line.png)

<span data-ttu-id="6c814-170">На этапах доставки и выписки счета работа, выполненная каждым стандартным заголовком, должна быть точно оценена в фактических показателях проекта.</span><span class="sxs-lookup"><span data-stu-id="6c814-170">In the Delivery and Invoicing phases, the work completed by each standard title must be accurately priced on the Project Actuals.</span></span> <span data-ttu-id="6c814-171">Это означает, что необходимы отношения 1:N из сущности **Стандартный заголовок** в сущности **Запись времени** , **Факт** , **Сведения строки счета** и **Строка журнала**.</span><span class="sxs-lookup"><span data-stu-id="6c814-171">This means that there needs to be 1:N relationships from **Standard Title** to **Time Entry** , **Actual** , **Invoice Line Detail** , and **Journal Line entities**.</span></span>

6. <span data-ttu-id="6c814-172">Повторите шаги с 1 по 6 для создания отношений 1:N из сущности **Стандартный заголовок** в сущности **Запись времени** , **Факт** , **Сведения строки счета** и **Строка журнала**.</span><span class="sxs-lookup"><span data-stu-id="6c814-172">Repeat steps 1 - 6 to create 1:N relationships from **Standard Title** to **Time Entry** , **Actual** , **Invoice Line Detail** , and **Journal Line entities**.</span></span>

> ![Добавление стандартного заголовка как поля ссылки на запись времени](media/ST-Mapping.png)

### <a name="set-up-dimension-value-defaulting-using-the-mappings-features-of-the-platform"></a><span data-ttu-id="6c814-174">Настройка значения аналитики по умолчанию с использованием функции сопоставления платформы</span><span class="sxs-lookup"><span data-stu-id="6c814-174">Set up Dimension value defaulting using the mappings features of the platform</span></span>
<span data-ttu-id="6c814-175">Для записи времени будет полезно, чтобы система по умолчанию назначала стандартный заголовок в записи времени из резервируемого ресурса, который записывает запись времени.</span><span class="sxs-lookup"><span data-stu-id="6c814-175">For Time Entry, it would be helpful to have the system default the standard title on the Time Entry from the Bookable Resource that is recording the time entry.</span></span> <span data-ttu-id="6c814-176">Используйте следующие шаги для добавления сопоставлений полей в отношение 1:N из сущности **Резервируемый ресурс** в **Запись времени**.</span><span class="sxs-lookup"><span data-stu-id="6c814-176">Use the following steps to add field mappings on the 1:N relationship from **Bookable Resource** to **Time Entry**.</span></span>

1. <span data-ttu-id="6c814-177">В обозревателе решений в левой навигационной панели выберите **Сущности > Стандартный заголовок**.</span><span class="sxs-lookup"><span data-stu-id="6c814-177">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="6c814-178">Разверните сущность **Стандартный заголовок** и выберите **Отношения 1: N**.</span><span class="sxs-lookup"><span data-stu-id="6c814-178">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="6c814-179">Дважды щелкните **Резервируемый ресурс в запись времени**.</span><span class="sxs-lookup"><span data-stu-id="6c814-179">Double-click **Bookable Resource to Time Entry**.</span></span> <span data-ttu-id="6c814-180">На странице **Отношение** щелкните **Использовать сопоставления полей**.</span><span class="sxs-lookup"><span data-stu-id="6c814-180">On the **Relationship** page, click **Use Field mappings**.</span></span> 
4. <span data-ttu-id="6c814-181">Щелкните **Создать** , чтобы создать новое сопоставление полей между полем **Стандартный заголовок** сущности **Резервируемый ресурс** с ссылочным полем **Стандартный заголовок** сущности **Запись времени**.</span><span class="sxs-lookup"><span data-stu-id="6c814-181">Click **New** to create a new field mapping between the **Standard Title** field on the **Bookable Resource** entity to the **Standard Title** reference field on **Time Entry** entity.</span></span> 

> ![Настройка сопоставления полей, чтобы стандартный заголовок по умолчанию устанавливался из резервируемого ресурса в записи времени](media/ST-Mapping2.png)


<span data-ttu-id="6c814-183">Это завершает изменения схемы, необходимые для настраиваемых аналитик на основе сущности.</span><span class="sxs-lookup"><span data-stu-id="6c814-183">This completes the schema changes required for entity-based custom dimensions.</span></span>

##  <a name="add-custom-fields-to-forms-views-and-business-rules"></a><span data-ttu-id="6c814-184">Добавление настраиваемых полей в формы, представления и бизнес-правила.</span><span class="sxs-lookup"><span data-stu-id="6c814-184">Add custom fields to forms, views, and business rules</span></span>

<span data-ttu-id="6c814-185">После внесения всех необходимых изменений схемы следующим шагом следует сделать поля видимыми в интерфейсе пользователя, добавив эти поля в формы и представления.</span><span class="sxs-lookup"><span data-stu-id="6c814-185">After you have made all of the required schema changes, the next step is to make the fields visible in the UI by adding the fields to the forms and views.</span></span>

1. <span data-ttu-id="6c814-186">Откройте форму или представление.</span><span class="sxs-lookup"><span data-stu-id="6c814-186">Open the form or the view.</span></span> <span data-ttu-id="6c814-187">В правой области переходов выберите поле и перетащите его на холст формы.</span><span class="sxs-lookup"><span data-stu-id="6c814-187">On the right navigation pane, select the field and drag it on to the form canvas.</span></span> 
2. <span data-ttu-id="6c814-188">При изменении представления используйте правую область переходов, щелкните **Добавить поля** , и в диалоговом окне **Список полей** выберите требуемые поля и щелкните **ОК**.</span><span class="sxs-lookup"><span data-stu-id="6c814-188">If you are editing a view, use the right navigation pane, click **Add fields** , and in the **Field listing** dialog box, select the fields that you need and click **Ok**.</span></span>

<span data-ttu-id="6c814-189">Следующая таблица содержит полный список готовых форм и представлений, по сущностям, которые следует обновить с учетом новых полей.</span><span class="sxs-lookup"><span data-stu-id="6c814-189">The following table provides a comprehensive list of out-of-the-box forms and views, by entity, that will need to be updated with the new fields.</span></span> <span data-ttu-id="6c814-190">При наличии любых дополнительных форм или представлений в ваших настройках для этих сущностей, добавьте новые поля также и в них.</span><span class="sxs-lookup"><span data-stu-id="6c814-190">If you have any additional views or forms in your customizations on these entities, add the new fields to those as well.</span></span>

| <span data-ttu-id="6c814-191">Сущность Project Service</span><span class="sxs-lookup"><span data-stu-id="6c814-191">Project Service Entity</span></span>        | <span data-ttu-id="6c814-192">Формы, в которых требуется новое поле</span><span class="sxs-lookup"><span data-stu-id="6c814-192">Forms that need the new field</span></span>   |<span data-ttu-id="6c814-193">Представления, в которых требуется новое поле</span><span class="sxs-lookup"><span data-stu-id="6c814-193">Views that need the new field</span></span>      |
| ------------------------------|---------------------------------|----------------------------------|
|  <span data-ttu-id="6c814-194">Цена роли</span><span class="sxs-lookup"><span data-stu-id="6c814-194">Role Price</span></span>|<span data-ttu-id="6c814-195">• Сведения</span><span class="sxs-lookup"><span data-stu-id="6c814-195">• Information</span></span> |<span data-ttu-id="6c814-196">• Активные цены категории ресурса</span><span class="sxs-lookup"><span data-stu-id="6c814-196">• Active Resource Category Prices</span></span><br> <span data-ttu-id="6c814-197">• Представление связанной цены категорий ресурсов</span><span class="sxs-lookup"><span data-stu-id="6c814-197">• Resource Category Price Associated View</span></span>|
|  <span data-ttu-id="6c814-198">Наценка цены роли</span><span class="sxs-lookup"><span data-stu-id="6c814-198">Role Price Markup</span></span>|<span data-ttu-id="6c814-199">• Сведения</span><span class="sxs-lookup"><span data-stu-id="6c814-199">• Information</span></span>|<span data-ttu-id="6c814-200">• Активная наценка цены роли</span><span class="sxs-lookup"><span data-stu-id="6c814-200">• Active Role Price Markup</span></span><br><span data-ttu-id="6c814-201">• Связанное представление наценки цены роли</span><span class="sxs-lookup"><span data-stu-id="6c814-201">• Role Price Markup Associated View</span></span>|
|  <span data-ttu-id="6c814-202">Сведения строки предложения с расценками</span><span class="sxs-lookup"><span data-stu-id="6c814-202">Quote line detail</span></span>|<span data-ttu-id="6c814-203">• Сведения о проекте</span><span class="sxs-lookup"><span data-stu-id="6c814-203">• Project Information</span></span><br><span data-ttu-id="6c814-204">• Быстрое создание проекта</span><span class="sxs-lookup"><span data-stu-id="6c814-204">• Project Quick Create</span></span>|<span data-ttu-id="6c814-205">• Активные сведения строки предложения с расценками</span><span class="sxs-lookup"><span data-stu-id="6c814-205">• Active Quote Line Detail</span></span><br><span data-ttu-id="6c814-206">• Объединенные сведения строки предложения с расценками</span><span class="sxs-lookup"><span data-stu-id="6c814-206">• Combined Quote Line Details</span></span><br><span data-ttu-id="6c814-207">• Представление связанных сведений строки предложения с расценками</span><span class="sxs-lookup"><span data-stu-id="6c814-207">• Quote Line Detail associated view</span></span>|
|  <span data-ttu-id="6c814-208">Сведения строки контракта проекта</span><span class="sxs-lookup"><span data-stu-id="6c814-208">Project Contract line detail</span></span>|<span data-ttu-id="6c814-209">• Сведения о проекте</span><span class="sxs-lookup"><span data-stu-id="6c814-209">• Project Information</span></span><br><span data-ttu-id="6c814-210">• Быстрое создание проекта</span><span class="sxs-lookup"><span data-stu-id="6c814-210">• Project Quick Create</span></span>|<span data-ttu-id="6c814-211">• Объединенные сведения строки контракта</span><span class="sxs-lookup"><span data-stu-id="6c814-211">• Combined Contract Line Details</span></span><br><span data-ttu-id="6c814-212">• Активные сведения строки контракта</span><span class="sxs-lookup"><span data-stu-id="6c814-212">• Active Contract Line Details</span></span><br><span data-ttu-id="6c814-213">• Связанное представление сведений строки контракта</span><span class="sxs-lookup"><span data-stu-id="6c814-213">• Contract Line Details Associated View</span></span>|
|  <span data-ttu-id="6c814-214">Задача проекта</span><span class="sxs-lookup"><span data-stu-id="6c814-214">Project Task</span></span>|<span data-ttu-id="6c814-215">• Сведения</span><span class="sxs-lookup"><span data-stu-id="6c814-215">• Information</span></span><br><span data-ttu-id="6c814-216">• Новая форма</span><span class="sxs-lookup"><span data-stu-id="6c814-216">• New Form</span></span>||
|  <span data-ttu-id="6c814-217">Участник проектной группы</span><span class="sxs-lookup"><span data-stu-id="6c814-217">Project Team Member</span></span>|<span data-ttu-id="6c814-218">• Сведения</span><span class="sxs-lookup"><span data-stu-id="6c814-218">• Information</span></span><br><span data-ttu-id="6c814-219">• Новая форма</span><span class="sxs-lookup"><span data-stu-id="6c814-219">• New Form</span></span>|<span data-ttu-id="6c814-220">• Активные участники проектной группы</span><span class="sxs-lookup"><span data-stu-id="6c814-220">• Active Project Team Members</span></span><br><span data-ttu-id="6c814-221">• Участники рабочей группы проекта</span><span class="sxs-lookup"><span data-stu-id="6c814-221">• Project Team Members</span></span><br><span data-ttu-id="6c814-222">• Представление связанных участников проектной группы</span><span class="sxs-lookup"><span data-stu-id="6c814-222">• Project Team members associated View</span></span>|
|  <span data-ttu-id="6c814-223">Запись времени</span><span class="sxs-lookup"><span data-stu-id="6c814-223">Time Entry</span></span>|<span data-ttu-id="6c814-224">• Сведения</span><span class="sxs-lookup"><span data-stu-id="6c814-224">• Information</span></span><br><span data-ttu-id="6c814-225">• Создание записи времени</span><span class="sxs-lookup"><span data-stu-id="6c814-225">• Create Time Entry</span></span>|<span data-ttu-id="6c814-226">• Мои записи времени по дате</span><span class="sxs-lookup"><span data-stu-id="6c814-226">• My Time Entries By Date</span></span><br><span data-ttu-id="6c814-227">• Мои записи времени за эту неделю</span><span class="sxs-lookup"><span data-stu-id="6c814-227">• My time Entries for this week</span></span><br><span data-ttu-id="6c814-228">• Записи времени для утверждения.</span><span class="sxs-lookup"><span data-stu-id="6c814-228">• Time entries for approval</span></span>|
|  <span data-ttu-id="6c814-229">Строка журнала</span><span class="sxs-lookup"><span data-stu-id="6c814-229">Journal Line</span></span>|<span data-ttu-id="6c814-230">• Сведения</span><span class="sxs-lookup"><span data-stu-id="6c814-230">• Information</span></span><br><span data-ttu-id="6c814-231">• Быстрое создание</span><span class="sxs-lookup"><span data-stu-id="6c814-231">• Quick create</span></span>|<span data-ttu-id="6c814-232">• Активные строки журнала</span><span class="sxs-lookup"><span data-stu-id="6c814-232">• Active journal lines</span></span><br><span data-ttu-id="6c814-233">• Представление связанной строки журнала</span><span class="sxs-lookup"><span data-stu-id="6c814-233">• Journal Line associated view</span></span>|
|  <span data-ttu-id="6c814-234">Сведения строки счета</span><span class="sxs-lookup"><span data-stu-id="6c814-234">Invoice Line Detail</span></span>|<span data-ttu-id="6c814-235">• Сведения</span><span class="sxs-lookup"><span data-stu-id="6c814-235">• Information</span></span><br><span data-ttu-id="6c814-236">• Быстрое создание</span><span class="sxs-lookup"><span data-stu-id="6c814-236">• Quick create</span></span>|<span data-ttu-id="6c814-237">• Активные сведения строки счета</span><span class="sxs-lookup"><span data-stu-id="6c814-237">• Active Invoice Line Details</span></span><br><span data-ttu-id="6c814-238">• Подлежащие оплате проводки по счету</span><span class="sxs-lookup"><span data-stu-id="6c814-238">• Chargeable Invoice Transactions</span></span><br><span data-ttu-id="6c814-239">• Бесплатные проводки по счету</span><span class="sxs-lookup"><span data-stu-id="6c814-239">• Complimentary Invoice Transactions</span></span><br><span data-ttu-id="6c814-240">• Представление связанных сведений строки счета</span><span class="sxs-lookup"><span data-stu-id="6c814-240">• Invoice Line Detail associated view</span></span><br><span data-ttu-id="6c814-241">• Не подлежащие оплате проводки по счету</span><span class="sxs-lookup"><span data-stu-id="6c814-241">• Non-Chargeable Invoice Transactions</span></span>|
|  <span data-ttu-id="6c814-242">Фактические</span><span class="sxs-lookup"><span data-stu-id="6c814-242">Actual</span></span>|<span data-ttu-id="6c814-243">• Сведения</span><span class="sxs-lookup"><span data-stu-id="6c814-243">• Information</span></span><br><span data-ttu-id="6c814-244">• Активные фактические данные</span><span class="sxs-lookup"><span data-stu-id="6c814-244">• Active Actuals</span></span>|<span data-ttu-id="6c814-245">• Представление связанных фактических данных</span><span class="sxs-lookup"><span data-stu-id="6c814-245">• Actual Associated view</span></span>|

<span data-ttu-id="6c814-246">Настраиваемые поля также может потребоваться добавить в бизнес-правила в зависимости от того, что было определено.</span><span class="sxs-lookup"><span data-stu-id="6c814-246">Custom fields may also need to be added on business rules depending on what you have defined.</span></span> <span data-ttu-id="6c814-247">Одним из готовых примеров будет бизнес-правило **Возможность редактирования записи времени на основании состояния**.</span><span class="sxs-lookup"><span data-stu-id="6c814-247">One out-of-the-box example is for the business rule **Editability of Time Entry based on status**.</span></span> <span data-ttu-id="6c814-248">Это правило определяет, какие поля должны быть заблокированы, когда запись времени находится в состоянии, не допускающем редактирования, например **Утверждена**.</span><span class="sxs-lookup"><span data-stu-id="6c814-248">This rule defines which fields need to be locked when the Time Entry is in a non-editable status such as **Approved**.</span></span> <span data-ttu-id="6c814-249">Добавьте поля к этому бизнес-правилу, чтобы эти поля блокировались для редактирования, когда запись времени находится в состоянии, отличном от **Черновик** или **Возвращено**.</span><span class="sxs-lookup"><span data-stu-id="6c814-249">Add fields to this business rule so that the fields are locked for editing when the Time Entry is in a status other than **Draft** or **Returned**.</span></span>
