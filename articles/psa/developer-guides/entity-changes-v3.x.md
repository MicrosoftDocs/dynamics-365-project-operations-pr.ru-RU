---
title: Изменение сущностей, элементов управления и интерфейса пользователя (Project Service Automation 3.x)
description: В этом разделе описаны изменения решения для Microsoft Dynamics Project Service Automation 3.x.
author: makk
manager: kfend
ms.custom:
- dyn365-projectservice
ms.date: 03/15/2019
ms.topic: article
ms.service: business-applications
ms.author: makk
audience: admin
search.audienceType:
- admin
- customizer
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: fa80f459260f30360e78a1e7bcc00706dbc0b5a4
ms.sourcegitcommit: fa32b1893286f20271fa4ec4be8fc68bd135f53c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/15/2021
ms.locfileid: "5284914"
---
# <a name="entity-control-and-user-interface-changes-project-service-automation-3x"></a><span data-ttu-id="f82a6-103">Изменение сущностей, элементов управления и интерфейса пользователя (Project Service Automation 3.x)</span><span class="sxs-lookup"><span data-stu-id="f82a6-103">Entity, control, and user interface changes (Project Service Automation 3.x)</span></span>

[!include [banner](../../includes/psa-now-project-operations.md)]


<span data-ttu-id="f82a6-104">В выпуске Microsoft Dynamics Project Service Automation (PSA) 3.x сделано много изменений сущностей, элементов управления, представлений и интерфейса пользователя.</span><span class="sxs-lookup"><span data-stu-id="f82a6-104">With the release of Microsoft Dynamics Project Service Automation (PSA) 3.x, many changes have been made to the entities, controls, views, and user interface.</span></span> <span data-ttu-id="f82a6-105">В этом разделе содержатся сведения об этих важных изменениях.</span><span class="sxs-lookup"><span data-stu-id="f82a6-105">This topic provides information about these important changes.</span></span>

## <a name="parent-child-relationships-for-sales-document-sales-document-line-sales-document-line-detail-entities"></a><span data-ttu-id="f82a6-106">Отношения "родительское-дочернее" для сущностей документа продаж, строки документа продаж и сведений строки документа продаж</span><span class="sxs-lookup"><span data-stu-id="f82a6-106">Parent-child relationships for sales document, sales document line, sales document line detail entities</span></span>
<span data-ttu-id="f82a6-107">В версиях Dynamics 365 Project Service Automation (PSA), выпущенных до версии 3.0, некоторые отношений между сущностями документов продажи, строк документов продаж и сведений строк документов продаж были реализованы через строковые поля, которые должны были содержать строковое представление GUID связанной сущности.</span><span class="sxs-lookup"><span data-stu-id="f82a6-107">In versions of Dynamics 365 Project Service Automation (PSA) released prior to version 3.0, some of the relationships between sales documents, sales document lines, and sales document line detail entities were implemented through string fields that would hold a string representation of GUID of the related entity.</span></span> <span data-ttu-id="f82a6-108">Это было связано с ограничениями платформы, которая требовала значительного объема настраиваемого кода на сторонах сервера и клиента в решении, чтобы эти отношения работали аналогично типичным отношениям сущностей Dynamics CRM и чтобы строковые поля вели себя как поля подстановки.</span><span class="sxs-lookup"><span data-stu-id="f82a6-108">This was due to platform limitations that required significant custom code on the server and client sides of the solution to make those relationships work similar to typical Dynamics CRM entity relationships and to make string fields act like lookup fields.</span></span>

<span data-ttu-id="f82a6-109">PSA 3.0 был обновлен, чтобы использовать новые отношения сущностей между сущностями документа продаж и строк документа продаж.</span><span class="sxs-lookup"><span data-stu-id="f82a6-109">PSA 3.0 has been updated to leverage the new entity relationships between sales document and sales document line entities.</span></span>

<span data-ttu-id="f82a6-110">Так как поля подстановки можно теперь использовать для указания ссылок на сущности, поля, которые содержали строковое значение GUID связанной сущности в предыдущих версиях более не требуются и поэтому были объявлены устаревшими.</span><span class="sxs-lookup"><span data-stu-id="f82a6-110">Because lookup fields can now be used to indicate references to entities, the fields that held the string value of the GUID of the related entity in previous versions are no longer needed and therefore have been deprecated.</span></span> <span data-ttu-id="f82a6-111">Настраиваемый код на стороне клиента и сервера, который обрабатывает отношения, определенные старыми строковыми полями, также устарели.</span><span class="sxs-lookup"><span data-stu-id="f82a6-111">The custom client and server side code that handles the relationships defined by legacy string fields has also been deprecated.</span></span>

### <a name="entity-schema-changes"></a><span data-ttu-id="f82a6-112">Изменения схемы сущностей</span><span class="sxs-lookup"><span data-stu-id="f82a6-112">Entity schema changes</span></span>
<span data-ttu-id="f82a6-113">Следующая таблица содержит список взаимно-однозначного соответствия устаревших строковых полей и новых полей подстановки для сущностей.</span><span class="sxs-lookup"><span data-stu-id="f82a6-113">The following table provides a one-to-one list of the deprecated string fields and the new lookup fields for the entities.</span></span> 

 <span data-ttu-id="f82a6-114">Сущность</span><span class="sxs-lookup"><span data-stu-id="f82a6-114">Entity</span></span> |   <span data-ttu-id="f82a6-115">Устаревшее поле (строка)</span><span class="sxs-lookup"><span data-stu-id="f82a6-115">Deprecated field (String)</span></span> | <span data-ttu-id="f82a6-116">Новое поле (подстановка)</span><span class="sxs-lookup"><span data-stu-id="f82a6-116">New field (Lookup)</span></span>
--- | --- | ---
<span data-ttu-id="f82a6-117">invoicedetail (Строка счета)</span><span class="sxs-lookup"><span data-stu-id="f82a6-117">invoicedetail (Invoice Line)</span></span> |  <span data-ttu-id="f82a6-118">msdyn_contractline</span><span class="sxs-lookup"><span data-stu-id="f82a6-118">msdyn_contractline</span></span> |    <span data-ttu-id="f82a6-119">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-119">msdyn_contractlineid</span></span>
<span data-ttu-id="f82a6-120">msdyn_actual (Фактические)</span><span class="sxs-lookup"><span data-stu-id="f82a6-120">msdyn_actual (Actual)</span></span> | <span data-ttu-id="f82a6-121">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="f82a6-121">msdyn_salescontractline</span></span> |   <span data-ttu-id="f82a6-122">msdyn_salescontractlineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-122">msdyn_salescontractlineid</span></span>
<span data-ttu-id="f82a6-123">msdyn_contractlineinvoiceschedule (Расписание счета строки контракта по проекту)</span><span class="sxs-lookup"><span data-stu-id="f82a6-123">msdyn_contractlineinvoiceschedule (Project Contract Line Invoice Schedule)</span></span> |    <span data-ttu-id="f82a6-124">msdyn_contractline</span><span class="sxs-lookup"><span data-stu-id="f82a6-124">msdyn_contractline</span></span> |    <span data-ttu-id="f82a6-125">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-125">msdyn_contractlineid</span></span>
<span data-ttu-id="f82a6-126">msdyn_contractlinescheduleofvalue (Веха строки контракта по проекту)</span><span class="sxs-lookup"><span data-stu-id="f82a6-126">msdyn_contractlinescheduleofvalue (Project Contract Line Milestone)</span></span> |   <span data-ttu-id="f82a6-127">msdyn_contractline</span><span class="sxs-lookup"><span data-stu-id="f82a6-127">msdyn_contractline</span></span> |    <span data-ttu-id="f82a6-128">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-128">msdyn_contractlineid</span></span>
<span data-ttu-id="f82a6-129">msdyn_fact (Факт)</span><span class="sxs-lookup"><span data-stu-id="f82a6-129">msdyn_fact (Fact)</span></span> | <span data-ttu-id="f82a6-130">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="f82a6-130">msdyn_salescontractline</span></span> |   <span data-ttu-id="f82a6-131">msdyn_salescontractlineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-131">msdyn_salescontractlineid</span></span>
<span data-ttu-id="f82a6-132">msdyn_invoicelinetransaction (Сведения строки счета)</span><span class="sxs-lookup"><span data-stu-id="f82a6-132">msdyn_invoicelinetransaction (Invoice Line Detail)</span></span> | <span data-ttu-id="f82a6-133">msdyn_invoiceline</span><span class="sxs-lookup"><span data-stu-id="f82a6-133">msdyn_invoiceline</span></span> <br> <span data-ttu-id="f82a6-134">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="f82a6-134">msdyn_salescontractline</span></span> | <span data-ttu-id="f82a6-135">msdyn_invoicelineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-135">msdyn_invoicelineid</span></span> <br> <span data-ttu-id="f82a6-136">msdyn_salescontractlineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-136">msdyn_salescontractlineid</span></span>
<span data-ttu-id="f82a6-137">msdyn_journalline (Строка журнала)</span><span class="sxs-lookup"><span data-stu-id="f82a6-137">msdyn_journalline (Journal Line)</span></span> |  <span data-ttu-id="f82a6-138">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="f82a6-138">msdyn_salescontractline</span></span> |   <span data-ttu-id="f82a6-139">msdyn_salescontractlineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-139">msdyn_salescontractlineid</span></span>
<span data-ttu-id="f82a6-140">msdyn_orderlineresourcecategory (Категория ресурса строки контракта проекта)</span><span class="sxs-lookup"><span data-stu-id="f82a6-140">msdyn_orderlineresourcecategory (Project Contract Line Resource Category)</span></span> | <span data-ttu-id="f82a6-141">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="f82a6-141">msdyn_salescontractline</span></span> |   <span data-ttu-id="f82a6-142">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-142">msdyn_contractlineid</span></span>
<span data-ttu-id="f82a6-143">msdyn_orderlinetransaction (Сведения строки контракта проекта)</span><span class="sxs-lookup"><span data-stu-id="f82a6-143">msdyn_orderlinetransaction (Project Contract Line Detail)</span></span> | <span data-ttu-id="f82a6-144">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="f82a6-144">msdyn_salescontractline</span></span> |   <span data-ttu-id="f82a6-145">msdyn_salescontractlineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-145">msdyn_salescontractlineid</span></span>
<span data-ttu-id="f82a6-146">msdyn_orderlinetransactioncategory (Категория проводки строки контракта проекта)</span><span class="sxs-lookup"><span data-stu-id="f82a6-146">msdyn_orderlinetransactioncategory (Project Contract Line Transaction Category)</span></span> |   <span data-ttu-id="f82a6-147">msdyn_contractline</span><span class="sxs-lookup"><span data-stu-id="f82a6-147">msdyn_contractline</span></span> |    <span data-ttu-id="f82a6-148">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-148">msdyn_contractlineid</span></span>
<span data-ttu-id="f82a6-149">msdyn_orderlinetransactionclassification (Классификация проводки строки контракта проекта)</span><span class="sxs-lookup"><span data-stu-id="f82a6-149">msdyn_orderlinetransactionclassification (Project Contract Line Transaction Classification)</span></span> |   <span data-ttu-id="f82a6-150">msdyn_contractline</span><span class="sxs-lookup"><span data-stu-id="f82a6-150">msdyn_contractline</span></span> |    <span data-ttu-id="f82a6-151">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-151">msdyn_contractlineid</span></span>
<span data-ttu-id="f82a6-152">msdyn_quotelineinvoiceschedule (Расписание счета строки предложения с расценками)</span><span class="sxs-lookup"><span data-stu-id="f82a6-152">msdyn_quotelineinvoiceschedule (Quote Line Invoice Schedule)</span></span> |  <span data-ttu-id="f82a6-153">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="f82a6-153">msdyn_quoteline</span></span> |   <span data-ttu-id="f82a6-154">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-154">msdyn_quotelineid</span></span>
<span data-ttu-id="f82a6-155">msdyn_quotelineresourcecategory (Категория ресурса строки предложения с расценками)</span><span class="sxs-lookup"><span data-stu-id="f82a6-155">msdyn_quotelineresourcecategory (Quote Line Resource Category)</span></span> |    <span data-ttu-id="f82a6-156">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="f82a6-156">msdyn_quoteline</span></span> |   <span data-ttu-id="f82a6-157">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-157">msdyn_quotelineid</span></span>
<span data-ttu-id="f82a6-158">msdyn_quotelinescheduleofvalue (Веха строки предложения с расценками)</span><span class="sxs-lookup"><span data-stu-id="f82a6-158">msdyn_quotelinescheduleofvalue (Quote Line Milestone)</span></span> | <span data-ttu-id="f82a6-159">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="f82a6-159">msdyn_quoteline</span></span> |   <span data-ttu-id="f82a6-160">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-160">msdyn_quotelineid</span></span>
<span data-ttu-id="f82a6-161">msdyn_quotelinetransaction (Сведения строки предложения с расценками)</span><span class="sxs-lookup"><span data-stu-id="f82a6-161">msdyn_quotelinetransaction (Quote Line Detail)</span></span> |    <span data-ttu-id="f82a6-162">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="f82a6-162">msdyn_quoteline</span></span> |   <span data-ttu-id="f82a6-163">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-163">msdyn_quotelineid</span></span>
<span data-ttu-id="f82a6-164">msdyn_quotelinetransactioncategory (Категория проводки строки предложения с расценками)</span><span class="sxs-lookup"><span data-stu-id="f82a6-164">msdyn_quotelinetransactioncategory (Quote Line Transaction Category)</span></span> |  <span data-ttu-id="f82a6-165">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="f82a6-165">msdyn_quoteline</span></span> |   <span data-ttu-id="f82a6-166">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-166">msdyn_quotelineid</span></span>
<span data-ttu-id="f82a6-167">msdyn_quotelinetransactionclassification (Классификация проводки строки предложения с расценками)</span><span class="sxs-lookup"><span data-stu-id="f82a6-167">msdyn_quotelinetransactionclassification (Quote Line Transaction Classification)</span></span> |  <span data-ttu-id="f82a6-168">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="f82a6-168">msdyn_quoteline</span></span> |   <span data-ttu-id="f82a6-169">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-169">msdyn_quotelineid</span></span>
<span data-ttu-id="f82a6-170">SalesOrderDetail (Строка заказа)</span><span class="sxs-lookup"><span data-stu-id="f82a6-170">SalesOrderDetail (Order Line)</span></span> | <span data-ttu-id="f82a6-171">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="f82a6-171">msdyn_quotelineid</span></span> | <span data-ttu-id="f82a6-172">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="f82a6-172">msdyn_quoteline</span></span> 

### <a name="deprecated-custom-views-and-controls"></a><span data-ttu-id="f82a6-173">Устаревшие настраиваемые представления и элементы управления</span><span class="sxs-lookup"><span data-stu-id="f82a6-173">Deprecated custom views and controls</span></span>
<span data-ttu-id="f82a6-174">Следующие настраиваемые представления и элементы управления, а также связанные с ними артефакты, устарели.</span><span class="sxs-lookup"><span data-stu-id="f82a6-174">The following custom views and controls, and their related artifacts, have been deprecated.</span></span>

- <span data-ttu-id="f82a6-175">Представление возможности оплаты.</span><span class="sxs-lookup"><span data-stu-id="f82a6-175">Chargeability view.</span></span>
- <span data-ttu-id="f82a6-176">Настраиваемые элементы управления сетки для отображения сведений строки предложения с расценками на странице **Сведения о проекте** для строки предложения с расценками.</span><span class="sxs-lookup"><span data-stu-id="f82a6-176">Custom grid controls for showing quote line details on the **Project Information** page for the quote line.</span></span>
- <span data-ttu-id="f82a6-177">Настраиваемые элементы управления сетки для отображения сведений строки контракта по проекту на странице **Сведения о проекте** для строки заказа на продажу.</span><span class="sxs-lookup"><span data-stu-id="f82a6-177">Custom grid controls for showing project contract line details on the **Project Information** page for the sales order line.</span></span>

> [!NOTE]
> <span data-ttu-id="f82a6-178">Полный список устаревших ресурсов см. в разделе [Устаревшие веб-ресурсы в Project Service Automation v3.x](../developer-guides/web-resources-deprecated-v3.x.md)</span><span class="sxs-lookup"><span data-stu-id="f82a6-178">For the full list of deprecated resources, see [Deprecated Web resources in Project Service Automation v3.x](../developer-guides/web-resources-deprecated-v3.x.md)</span></span>

## <a name="unified-client-interface-app-module"></a><span data-ttu-id="f82a6-179">Модуль приложения единого интерфейса клиента</span><span class="sxs-lookup"><span data-stu-id="f82a6-179">Unified Client Interface App Module</span></span>
<span data-ttu-id="f82a6-180">С введением моделей приложения единого интерфейса клиента (UCI) записи карты сайта PSA были удалены из системы.</span><span class="sxs-lookup"><span data-stu-id="f82a6-180">With the introduction of Unified Client Interface (UCI) App Modules, the PSA site map entries have been removed from the system.</span></span>  
<span data-ttu-id="f82a6-181">Функция, связанная с переключением форм для возможной сделки, предложения с расценками, заказа и счета, стала устаревшей, так как она больше не требуется, потому что модуль приложения UCI содержит только версии форм для PSA.</span><span class="sxs-lookup"><span data-stu-id="f82a6-181">Functionality related to form switching for Opportunity, Quote, Order, Invoice has been deprecated as it is no longer required because the UCI App Module includes only PSA versions of the forms.</span></span>  

<span data-ttu-id="f82a6-182">Следующие веб-ресурсы устарели:</span><span class="sxs-lookup"><span data-stu-id="f82a6-182">The following web resources have been deprecated:</span></span>

- <span data-ttu-id="f82a6-183">msdyn_\SalesDocument\SalesDocumentFormLoader.js</span><span class="sxs-lookup"><span data-stu-id="f82a6-183">msdyn_\SalesDocument\SalesDocumentFormLoader.js</span></span>
- <span data-ttu-id="f82a6-184">msdyn_\SalesDocument\PSSalesDocumentCustomFormIds.js</span><span class="sxs-lookup"><span data-stu-id="f82a6-184">msdyn_\SalesDocument\PSSalesDocumentCustomFormIds.js</span></span>

> [!NOTE]
> <span data-ttu-id="f82a6-185">Полный список устаревших ресурсов см. в разделе [Устаревшие веб-ресурсы в Project Service Automation v3.x](../developer-guides/web-resources-deprecated-v3.x.md).</span><span class="sxs-lookup"><span data-stu-id="f82a6-185">For the full list of deprecated resources, see [Deprecated Web resources in Project Service Automation v3.x](../developer-guides/web-resources-deprecated-v3.x.md).</span></span>




[!INCLUDE[footer-include](../../includes/footer-banner.md)]