---
title: Работа с моделью данных Project Service Automation
description: В этом разделе представлена информация о том, как работать с моделью данных.
author: ruhercul
manager: kfend
ms.service: project-operations
ms.custom:
- dyn365-projectservice
ms.date: 03/01/2019
ms.topic: article
ms.author: ruhercul
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365CE
- D365PS
- ProjectOperations
ms.openlocfilehash: d8c212ef2c9fd9dcd6be0b8f0a31aa5a948176bc
ms.sourcegitcommit: 418fa1fe9d605b8faccc2d5dee1b04b4e753f194
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/10/2021
ms.locfileid: "5147669"
---
# <a name="working-with-the-project-service-automation-data-model"></a><span data-ttu-id="b75ab-103">Работа с моделью данных Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="b75ab-103">Working with the Project Service Automation data model</span></span>

[!include [banner](../includes/psa-now-project-operations.md)]

[!INCLUDE[cc-applies-to-psa-app-3.x](../includes/cc-applies-to-psa-app-3x.md)]
[!include [rename-banner](~/includes/cc-data-platform-banner.md)]

<span data-ttu-id="b75ab-104">Dynamics 365 Project Service Automation расширяет сущности других приложений и вводит собственные сущности в модель данных Common Data Service.</span><span class="sxs-lookup"><span data-stu-id="b75ab-104">Dynamics 365 Project Service Automation extends other app entities and introduces its own entities in the Common Data Service data model.</span></span> <span data-ttu-id="b75ab-105">В этом разделе описываются некоторые из сущностей, которые вы встретите в типичных сценариях отчетности в PSA.</span><span class="sxs-lookup"><span data-stu-id="b75ab-105">This topic describes some of the entities that you will encounter in typical PSA reporting scenarios.</span></span>

## <a name="reporting-on-opportunities"></a><span data-ttu-id="b75ab-106">Отчеты по возможным сделкам</span><span class="sxs-lookup"><span data-stu-id="b75ab-106">Reporting on opportunities</span></span>

<span data-ttu-id="b75ab-107">Project Service Automation расширяет сущность **Возможная сделка** из Dynamics 365 Sales, добавляя поля для поддержки сценариев на основе проектов.</span><span class="sxs-lookup"><span data-stu-id="b75ab-107">Project Service Automation extends the Dynamics 365 Sales **Opportunity** entity by adding fields that enable project-based scenarios.</span></span> <span data-ttu-id="b75ab-108">Эти поля определяются именем схемы с префиксом **msdyn\_**.</span><span class="sxs-lookup"><span data-stu-id="b75ab-108">These fields are identified by a schema name that is prefixed with **msdyn\_**.</span></span> <span data-ttu-id="b75ab-109">Одно новое поле, которое важно для отчета о возможных сделках PSA, это **Тип заказа**.</span><span class="sxs-lookup"><span data-stu-id="b75ab-109">One new field that is important for reporting on PSA opportunities is **Order Type**.</span></span> <span data-ttu-id="b75ab-110">Значение этого поля **На основе работ** указывает, что возможная сделка является возможной сделкой PSA.</span><span class="sxs-lookup"><span data-stu-id="b75ab-110">A value of **Work Based** for this field indicates that the opportunity is a PSA opportunity.</span></span> <span data-ttu-id="b75ab-111">Другие поля, которые были добавлены к сущности, включают **Контрактная организация**, которое принимает организацию, к которой относится возможная сделка, и **Менеджер по работе с клиентами**, которое принимает имя менеджера по работе с клиентами, отвечающего за возможную сделку.</span><span class="sxs-lookup"><span data-stu-id="b75ab-111">Other fields that have been added to the entity include **Contracting Organization**, which captures the organization that is holding the opportunity, and **Account Manager**, which captures the name of the account manager who is responsible for the opportunity.</span></span>

<span data-ttu-id="b75ab-112">Сущность **Строка возможной сделки** также содержит поля, связанные с Project Service.</span><span class="sxs-lookup"><span data-stu-id="b75ab-112">The **Opportunity Line** entity also includes fields that are related to Project Service.</span></span> <span data-ttu-id="b75ab-113">**Метод выставления счета** указывает способ выставления счетов по строке возможной сделки: на основе времени и материалов или на основе фиксированной цены; **Проект** содержит имя проекта, лежащего в основе возможное сделки.</span><span class="sxs-lookup"><span data-stu-id="b75ab-113">**Billing Method** indicates whether the opportunity line should be billed on a time-and-materials basis or a fixed-price basis, and **Project** captures the name of the project that is backing the opportunity.</span></span> <span data-ttu-id="b75ab-114">Другие поля, для которых возможен отчет, фиксируют расходы и суммы бюджета клиента для номенклатуры строки.</span><span class="sxs-lookup"><span data-stu-id="b75ab-114">Other fields that you can report on capture costs and customer budget amounts for the line item.</span></span>

## <a name="reporting-on-quotes"></a><span data-ttu-id="b75ab-115">Отчетность по предложениям с расценками</span><span class="sxs-lookup"><span data-stu-id="b75ab-115">Reporting on quotes</span></span>

<span data-ttu-id="b75ab-116">PSA расширяет сущность **Предложение с расценками** из Sales, добавляя поля, связанные с проектом.</span><span class="sxs-lookup"><span data-stu-id="b75ab-116">PSA extends the Sales **Quote** entity by adding project-related fields.</span></span> <span data-ttu-id="b75ab-117">**Тип заказа** различает предложения с расценками PSA от предложений с расценками, не связанных с PSA.</span><span class="sxs-lookup"><span data-stu-id="b75ab-117">**Order Type** distinguishes PSA quotes from non-PSA quotes.</span></span> <span data-ttu-id="b75ab-118">Значение этого поля **На основе работ** указывает, что предложение с расценками является предложением с расценками PSA.</span><span class="sxs-lookup"><span data-stu-id="b75ab-118">A value of **Work Based** for this field indicates that the quote is a PSA quote.</span></span> <span data-ttu-id="b75ab-119">Другие поля, которые могут иметь отношение к отчетности по предложениям PSA, включают поля сумм, например **Оплачиваемые расходы**, **Неоплачиваемые расходы**, **Валовая прибыль**, **Оценки** и **Бюджет**.</span><span class="sxs-lookup"><span data-stu-id="b75ab-119">Other fields that can be relevant to reporting on PSA quotes include amount fields, such as **Chargeable Costs**, **Non-chargeable Costs**, **Gross Margin**, **Estimates**, and **Budget**.</span></span> <span data-ttu-id="b75ab-120">Другие полезные поля указывают, является ли предложение с расценками прибыльным, будет ли оно завершено по расписанию и удовлетворяет ли оно ожиданиям бюджета клиента.</span><span class="sxs-lookup"><span data-stu-id="b75ab-120">Other useful fields indicate whether the quote is profitable, whether it will be completed on schedule, and whether it meets the customer's budget expectations.</span></span>

<span data-ttu-id="b75ab-121">Также PSA расширяет сущность **Строка предложения с расценками** из Sales.</span><span class="sxs-lookup"><span data-stu-id="b75ab-121">PSA also extends the Sales **Quote Line** entity.</span></span> <span data-ttu-id="b75ab-122">Одно поле, которое PSA добавляет, называется **Метод выставления счета**, которое указывает, как будут выставляться счета по строке предложения с расценками (время и материалы или фиксированная цена).</span><span class="sxs-lookup"><span data-stu-id="b75ab-122">One field that PSA adds is **Billing Method**, which indicates how the quote line will be billed (time and materials or fixed price).</span></span> <span data-ttu-id="b75ab-123">Другие поля, которые были добавлены к сущности, хранят связанный проект, лежащий в основе строки предложения с расценками, выставление счетов, стоимость и бюджет.</span><span class="sxs-lookup"><span data-stu-id="b75ab-123">Other fields that have been added to the entity capture the related project that is backing the quote line, invoicing, cost, and budget.</span></span>

<span data-ttu-id="b75ab-124">PSA также добавляет новые сущности, связанные с предложением с расценками, в модель данных Dynamics 365.</span><span class="sxs-lookup"><span data-stu-id="b75ab-124">PSA also adds new quote-related entities to the Dynamics 365 data model.</span></span> <span data-ttu-id="b75ab-125">Ниже приведено несколько примеров:</span><span class="sxs-lookup"><span data-stu-id="b75ab-125">Here are some examples:</span></span>

- <span data-ttu-id="b75ab-126">**Сведения строки предложения с расценками** — данный объект содержит сведения оценки проекта по строке предложения с расценками.</span><span class="sxs-lookup"><span data-stu-id="b75ab-126">**Quote Line Detail** – This entity contains the project estimate details of the quote line.</span></span> <span data-ttu-id="b75ab-127">Он содержит две записи для каждой строки предложения с расценками.</span><span class="sxs-lookup"><span data-stu-id="b75ab-127">It has two records for each quote line.</span></span> <span data-ttu-id="b75ab-128">В одной записи хранится стоимость и сведения о стоимости по строке предложения с расценками, а в другой записи хранится сумма продажи и сведения о продаже для строки предложения с расценками.</span><span class="sxs-lookup"><span data-stu-id="b75ab-128">One record stores the cost and cost details of the quote line, and the other record stores the sales amount and sales details of the quote line.</span></span>
- <span data-ttu-id="b75ab-129">**Расписание счета строки предложения с расценками** — данный объект содержит расписание выставления счетов для строки предложения с расценками.</span><span class="sxs-lookup"><span data-stu-id="b75ab-129">**Quote Line Invoice Schedule** – This entity contains the billing schedule for the quote line.</span></span> <span data-ttu-id="b75ab-130">Это расписание создается на основе частоты выставления счетов, которая назначена строке предложения с расценками.</span><span class="sxs-lookup"><span data-stu-id="b75ab-130">This schedule is generated based on the invoicing frequency that is assigned to the quote line.</span></span>
- <span data-ttu-id="b75ab-131">**Веха строки предложения с расценками** — данный объект содержит вехи выставления счетов для строк предложения с расценками с фиксированной ценой.</span><span class="sxs-lookup"><span data-stu-id="b75ab-131">**Quote Line Milestone** – This entity contains the billing milestones for fixed-price quote lines.</span></span>
- <span data-ttu-id="b75ab-132">**Разбивка аналитики строки предложения с расценками** — данный объект содержит финансовые сведения по строке предложения с расценками.</span><span class="sxs-lookup"><span data-stu-id="b75ab-132">**Quote Line Analytics Breakdown** – This entity contains financial details of the quote line.</span></span> <span data-ttu-id="b75ab-133">Эти сведения могут быть полезными для отчетности по продажам по предложению с расценками и ожидаемых суммах стоимости по различным аналитикам.</span><span class="sxs-lookup"><span data-stu-id="b75ab-133">These details can be useful for reporting quoted sales and estimated cost amounts by various dimensions.</span></span>

<span data-ttu-id="b75ab-134">Остальные сущности, которые PSA добавляет в предложения с расценками, это **Прайс-лист проекта для строки предложения с расценками**, **Категория ресурса строки предложения с расценками** и **Категория проводки строки предложения с расценками**.</span><span class="sxs-lookup"><span data-stu-id="b75ab-134">Other entities that PSA adds to quotes are **Quote Line Project Price List**, **Quote Line Resource Category**, and **Quote Line Transaction Category**.</span></span>

<span data-ttu-id="b75ab-135">![Диаграмма с взаимосвязями предложения с расценками, строки предложения с расценками и проекта](media/PS-Reporting-image2.png "Диаграмма с взаимосвязями предложения с расценками, строки предложения с расценками и проекта")</span><span class="sxs-lookup"><span data-stu-id="b75ab-135">![Diagram showing quote, quote line, and project relationships](media/PS-Reporting-image2.png "Diagram showing quote, quote line, and project relationships")</span></span>

## <a name="reporting-on-project-contracts"></a><span data-ttu-id="b75ab-136">Создание отчетов о контрактах по проекту</span><span class="sxs-lookup"><span data-stu-id="b75ab-136">Reporting on project contracts</span></span>

<span data-ttu-id="b75ab-137">PSA расширяет сущность **Заказ** из Sales, которая используется при записи контрактов по проекту.</span><span class="sxs-lookup"><span data-stu-id="b75ab-137">PSA extends the Sales **Order** entity that is used when project contracts are recorded.</span></span> <span data-ttu-id="b75ab-138">Добавляется важное новое поле, **Тип заказа**, которое определяет контракт как контракт по проекту PSA вместо заказа на продажу.</span><span class="sxs-lookup"><span data-stu-id="b75ab-138">It adds an important new field, **Order Type**, that identifies the contract as a PSA project contract instead of a sales order.</span></span> <span data-ttu-id="b75ab-139">Значение этого поля **На основе работ** указывает, что заказ является контрактом по проекту PSA.</span><span class="sxs-lookup"><span data-stu-id="b75ab-139">A value of **Work Based** for this field indicates that the order is a PSA project contract.</span></span> <span data-ttu-id="b75ab-140">Другие новые поля, добавленные к сущности **Заказ**, содержат сведения о затратах, состоянии контракта PSA и организации, которая получила контракт.</span><span class="sxs-lookup"><span data-stu-id="b75ab-140">Other new fields that are added to the **Order** entity capture details about costs, PSA contract status, and the organization that owns the contract.</span></span>

<span data-ttu-id="b75ab-141">Также PSA расширяет сущность **Строка заказа на продажу**.</span><span class="sxs-lookup"><span data-stu-id="b75ab-141">PSA also extends the **Sales Order Line** entity.</span></span> <span data-ttu-id="b75ab-142">Среди полей, которые добавлены, имеются поля, содержащие метод выставления счетов (время и материалы или фиксированная цена), суммы бюджета клиента и базовый проект.</span><span class="sxs-lookup"><span data-stu-id="b75ab-142">Among the fields that it adds are fields that capture the billing method (time and materials or fixed price), customer budget amounts, and the underlying project.</span></span>

<span data-ttu-id="b75ab-143">PSA также добавляет новые сущности, предназначенные для контракта по проекту.</span><span class="sxs-lookup"><span data-stu-id="b75ab-143">PSA also adds new entities that are designed for project contracts.</span></span> <span data-ttu-id="b75ab-144">Ниже приведено несколько примеров:</span><span class="sxs-lookup"><span data-stu-id="b75ab-144">Here are some examples:</span></span>

- <span data-ttu-id="b75ab-145">**Сведение строки контракта проекта** — данная сущность содержит сведения на уровне строки, сведенные к сумме строки контракта.</span><span class="sxs-lookup"><span data-stu-id="b75ab-145">**Project Contract Line Detail** – This entity contains the line-level details that are rolled up to the contract line amount.</span></span> <span data-ttu-id="b75ab-146">Они могут быть столь же детализированы, как и номенклатуры строк, создаваемые из расписания проекта на уровне задач.</span><span class="sxs-lookup"><span data-stu-id="b75ab-146">These can be as detailed as line items that are generated from a project schedule at the task level.</span></span>
- <span data-ttu-id="b75ab-147">**Расписание счета строки контракта** — данная сущность содержит расписание выставления счетов, которое создается на основе частоты выставления счетов, назначенной строке контракта.</span><span class="sxs-lookup"><span data-stu-id="b75ab-147">**Contract Line Invoice Schedule** – This entity contains the billing schedule that is generated based on the invoice frequency that is assigned to the contract line.</span></span>
- <span data-ttu-id="b75ab-148">**Веха контракта** — данная сущность содержит вехи выставления счетов для строк контракта с условием выставления счетов "фиксированная цена".</span><span class="sxs-lookup"><span data-stu-id="b75ab-148">**Contract Milestone** – This entity contains the billing milestones for contract lines that have a fixed-price billing term.</span></span>

<span data-ttu-id="b75ab-149">Остальные сущности, которые PSA добавляет в контракты, это **Прайс-лист проекта для строки контракта проекта**, **Категория ресурса строки контракта проекта** и **Категория проводки строки контракта проекта**.</span><span class="sxs-lookup"><span data-stu-id="b75ab-149">Other entities that PSA adds to contracts are **Project Contract Line Project Price List**, **Project Contract Line Resource Category**, and **Project Contract Line Transaction Category**.</span></span>

<span data-ttu-id="b75ab-150">![Диаграмма с взаимосвязями заказа, строки заказа и проекта](media/PS-Reporting-image3.png "Диаграмма с взаимосвязями заказа, строки заказа и проекта")</span><span class="sxs-lookup"><span data-stu-id="b75ab-150">![Diagram showing order, order line, and project relationships](media/PS-Reporting-image3.png "Diagram showing order, order line, and project relationships")</span></span>

## <a name="reporting-on-projects"></a><span data-ttu-id="b75ab-151">Отчетность по проектам</span><span class="sxs-lookup"><span data-stu-id="b75ab-151">Reporting on projects</span></span>

<span data-ttu-id="b75ab-152">Сущность **Проекты** и связанные с ней сущности эксклюзивные для PSA.</span><span class="sxs-lookup"><span data-stu-id="b75ab-152">The **Projects** entity and its related entities are exclusive to PSA.</span></span> <span data-ttu-id="b75ab-153">**Проект** — это сущность верхнего уровня, которая используется для записи работы и затратной часть операций.</span><span class="sxs-lookup"><span data-stu-id="b75ab-153">**Project** is the top-level entity that is used to capture the work and cost side of operations.</span></span> <span data-ttu-id="b75ab-154">Ниже приведен список связанных сущностей.</span><span class="sxs-lookup"><span data-stu-id="b75ab-154">Here is a list of the related entities:</span></span>

- <span data-ttu-id="b75ab-155">**Участник проектной группы** — данная сущность содержит сведения о резервируемых ресурсах, которые назначены проекту.</span><span class="sxs-lookup"><span data-stu-id="b75ab-155">**Project team member** – This entity contains details about the bookable resources that are assigned to the project.</span></span> <span data-ttu-id="b75ab-156">Эти ресурсы могут быть универсальными резервируемыми ресурсам или могут быть именными резервируемыми ресурсами, которые вводятся руководителем проекта или создаются из расписания проекта.</span><span class="sxs-lookup"><span data-stu-id="b75ab-156">Those resources can be generic bookable resources, or they can be named bookable resources that are either entered by the project manager or generated from the project schedule.</span></span>
- <span data-ttu-id="b75ab-157">**Задача проекта** — данная сущность содержит задачи, которые составляют план или расписание проекта.</span><span class="sxs-lookup"><span data-stu-id="b75ab-157">**Project Task** – This entity contains the tasks that make up the project plan or schedule.</span></span>
- <span data-ttu-id="b75ab-158">**Назначение ресурсов** — данная сущность содержит назначение задач для резервируемого ресурса.</span><span class="sxs-lookup"><span data-stu-id="b75ab-158">**Resource Assignment** – This entity contains the task assignment for the bookable resource.</span></span>
- <span data-ttu-id="b75ab-159">**Требование ресурса** — данная сущность содержит требования для любых участников группы универсальных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="b75ab-159">**Resource Requirement** – This entity contains the requirements for any generic resource team members.</span></span>
- <span data-ttu-id="b75ab-160">**Оценка** и **Строка оценки** — эти сущности имеют отношения заголовка/строка и содержат оценки расходов для проекта.</span><span class="sxs-lookup"><span data-stu-id="b75ab-160">**Estimate** and **Estimate line** – These entities have a header/line relationship and contain expense estimates for the project.</span></span> <span data-ttu-id="b75ab-161">Оценки задач хранятся в сущности **Оценка ресурса**.</span><span class="sxs-lookup"><span data-stu-id="b75ab-161">Task estimates are stored on the **Resource Estimate** entity.</span></span>

<span data-ttu-id="b75ab-162">![Диаграмма с взаимосвязями требования ресурса и проекта](media/PS-Reporting-image4.png "Диаграмма с взаимосвязями требования ресурса и проекта")</span><span class="sxs-lookup"><span data-stu-id="b75ab-162">![Diagram showing resource requirement and project relationships](media/PS-Reporting-image4.png "Diagram showing resource requirement and project relationships")</span></span>

## <a name="reporting-on-resources"></a><span data-ttu-id="b75ab-163">Отчетность по ресурсам</span><span class="sxs-lookup"><span data-stu-id="b75ab-163">Reporting on resources</span></span>

<span data-ttu-id="b75ab-164">Ресурсы по проекту используют сущности **Резервируемый ресурс** из Universal Resource Scheduling (URS), которые являются общими с другими приложениями, такими как Microsoft Dynamics 365 Field Service.</span><span class="sxs-lookup"><span data-stu-id="b75ab-164">Project resources use the **Bookable Resource** entities from Universal Resource Scheduling (URS) that are shared with other apps, such as Microsoft Dynamics 365 Field Service.</span></span> <span data-ttu-id="b75ab-165">Ниже приведен список сущностей, которые вам могут потребоваться для отчета о ресурсах проекта:</span><span class="sxs-lookup"><span data-stu-id="b75ab-165">Here is a list of the entities that you might have to use when you report on project resources:</span></span>

- <span data-ttu-id="b75ab-166">**Резервируемый ресурс** — данная сущность представляет пользователя, контакт, универсальный ресурс, организацию или оборудования, которые используются в проектной группе.</span><span class="sxs-lookup"><span data-stu-id="b75ab-166">**Bookable Resource** – This entity represents the user, contact, generic resource, account, group, or equipment that is used on the project team.</span></span>
- <span data-ttu-id="b75ab-167">**Характеристики резервируемого ресурса** — данная сущность включает навыки, сертификации или образование ресурса.</span><span class="sxs-lookup"><span data-stu-id="b75ab-167">**Bookable Resource Characteristics** – This entity includes the skills, certifications, or education of the resource.</span></span> <span data-ttu-id="b75ab-168">Характеристики могут иметь значения оценки, которые определены моделью оценки.</span><span class="sxs-lookup"><span data-stu-id="b75ab-168">The characteristics can have rating values that are defined by the rating model.</span></span>
- <span data-ttu-id="b75ab-169">**Категория резервируемого ресурса** — данная сущность представляет роль резервируемого ресурса.</span><span class="sxs-lookup"><span data-stu-id="b75ab-169">**Bookable Resource Category** – This entity represents the role of the bookable resource.</span></span>
- <span data-ttu-id="b75ab-170">**Резервирования резервируемого ресурса** — данная сущность представляет время, которое зарезервировано по проектам для этого ресурса.</span><span class="sxs-lookup"><span data-stu-id="b75ab-170">**Bookable resource bookings** – This entity represents the time that is booked on projects for the resource.</span></span> <span data-ttu-id="b75ab-171">Каждое резервирование имеет сущность заголовка и сущности строки, и каждая строка имеет состояние, представляющее состояние резервирования.</span><span class="sxs-lookup"><span data-stu-id="b75ab-171">Each booking has both a header entity and line entities, and each line has a status that represents the status of the booking.</span></span>

<span data-ttu-id="b75ab-172">![Диаграмма, показывающая взаимосвязи характеристик резервируемых ресурсов](media/PS-Reporting-image5.png "Диаграмма, показывающая взаимосвязи характеристик резервируемых ресурсов")</span><span class="sxs-lookup"><span data-stu-id="b75ab-172">![Diagram showing bookable resource characteristics relationships](media/PS-Reporting-image5.png "Diagram showing bookable resource characteristics relationships")</span></span>

## <a name="reporting-on-actual-transactions"></a><span data-ttu-id="b75ab-173">Создание отчетов о фактических транзакциях</span><span class="sxs-lookup"><span data-stu-id="b75ab-173">Reporting on actual transactions</span></span>

<span data-ttu-id="b75ab-174">При утверждении табеля учета рабочего времени или расходов либо при выставлении счета по контракту в PSA бизнес-транзакция записывается в сущности **Факт**.</span><span class="sxs-lookup"><span data-stu-id="b75ab-174">When you approve a timesheet or expense, or invoice a contract in PSA, the business transaction is captured in the **Actual** entity.</span></span> <span data-ttu-id="b75ab-175">Эта сущность может служить основой почти всех связанных с финансами отчетов в PSA.</span><span class="sxs-lookup"><span data-stu-id="b75ab-175">This entity can serve as the basis for almost all finance-related reports in PSA.</span></span> <span data-ttu-id="b75ab-176">Сущность **Факт** записывает стоимость и транзакции продаж для бизнес-мероприятия.</span><span class="sxs-lookup"><span data-stu-id="b75ab-176">The **Actual** entity captures the cost and sales transactions for the business event.</span></span> <span data-ttu-id="b75ab-177">Она также записывает много связанных атрибутов.</span><span class="sxs-lookup"><span data-stu-id="b75ab-177">It also captures many relevant attributes.</span></span>

<span data-ttu-id="b75ab-178">При работе с сущностью **Факт** важно понимать, какая транзакция или транзакции записываются в сущность и когда транзакции записываются.</span><span class="sxs-lookup"><span data-stu-id="b75ab-178">When you're working with the **Actual** entity, it's important that you understand what transaction or transactions are recorded in the entity, and when the transactions are recorded.</span></span> <span data-ttu-id="b75ab-179">Ниже приведен обычный поток при работе с записями времени (поток для записей расходов аналогичен):</span><span class="sxs-lookup"><span data-stu-id="b75ab-179">Here is the typical flow when you work with time entries (the flow for expense entries is similar):</span></span>

1. <span data-ttu-id="b75ab-180">При сохранении записи времени никакие записи не создаются в сущности **Факт**.</span><span class="sxs-lookup"><span data-stu-id="b75ab-180">When the time entry is saved, no records are created in the **Actual** entity.</span></span>
2. <span data-ttu-id="b75ab-181">При отправке записи времени никакие записи не создаются в сущности **Факт**.</span><span class="sxs-lookup"><span data-stu-id="b75ab-181">When the time entry is submitted, no records are created in the **Actual** entity.</span></span>
3. <span data-ttu-id="b75ab-182">Когда запись время утверждена, одна запись была создана в сущности **Факт**, а вторая запись также может быть создана.</span><span class="sxs-lookup"><span data-stu-id="b75ab-182">When the time entry is approved, one record is be created in the **Actual** entity, and a second record can also be created.</span></span> <span data-ttu-id="b75ab-183">Первая запись хранит стоимость записи времени.</span><span class="sxs-lookup"><span data-stu-id="b75ab-183">The first record stores the cost of the time entry.</span></span> <span data-ttu-id="b75ab-184">Вторая запись хранит сумму продажи записи времени, на которую не выставлен счет.</span><span class="sxs-lookup"><span data-stu-id="b75ab-184">The second record stores the unbilled sales amount of the time entry.</span></span> <span data-ttu-id="b75ab-185">Вторая записи зависит от того, что назначено проекту: клиент, предложение с расценками или строка контракта.</span><span class="sxs-lookup"><span data-stu-id="b75ab-185">The second record is dependent on the project either having a customer, a quote, or a contract line assigned to it.</span></span>

    | <span data-ttu-id="b75ab-186">Дата документа</span><span class="sxs-lookup"><span data-stu-id="b75ab-186">Document date</span></span> | <span data-ttu-id="b75ab-187">Тип проводки</span><span class="sxs-lookup"><span data-stu-id="b75ab-187">Transaction type</span></span> | <span data-ttu-id="b75ab-188">Класс проводки</span><span class="sxs-lookup"><span data-stu-id="b75ab-188">Transaction class</span></span> | <span data-ttu-id="b75ab-189">Клиент</span><span class="sxs-lookup"><span data-stu-id="b75ab-189">Customer</span></span>         | <span data-ttu-id="b75ab-190">Контракт</span><span class="sxs-lookup"><span data-stu-id="b75ab-190">Contract</span></span>   | <span data-ttu-id="b75ab-191">Ресурс</span><span class="sxs-lookup"><span data-stu-id="b75ab-191">Resource</span></span>     | <span data-ttu-id="b75ab-192">Роль ресурса</span><span class="sxs-lookup"><span data-stu-id="b75ab-192">Resource role</span></span> | <span data-ttu-id="b75ab-193">Тип выставления счета</span><span class="sxs-lookup"><span data-stu-id="b75ab-193">Billing type</span></span> | <span data-ttu-id="b75ab-194">Количество</span><span class="sxs-lookup"><span data-stu-id="b75ab-194">Quantity</span></span> | <span data-ttu-id="b75ab-195">Цена единицы</span><span class="sxs-lookup"><span data-stu-id="b75ab-195">Unit price</span></span> | <span data-ttu-id="b75ab-196">Сумма</span><span class="sxs-lookup"><span data-stu-id="b75ab-196">Amount</span></span> |
    |---------------|------------------|-------------------|------------------|------------|--------------|---------------|--------------|----------|------------|--------|
    | <span data-ttu-id="b75ab-197">03.02.18</span><span class="sxs-lookup"><span data-stu-id="b75ab-197">2/3/18</span></span>        | <span data-ttu-id="b75ab-198">Стоимость</span><span class="sxs-lookup"><span data-stu-id="b75ab-198">Cost</span></span>             | <span data-ttu-id="b75ab-199">Time</span><span class="sxs-lookup"><span data-stu-id="b75ab-199">Time</span></span>              | <span data-ttu-id="b75ab-200">Alpine ski house</span><span class="sxs-lookup"><span data-stu-id="b75ab-200">Alpine ski house</span></span> | <span data-ttu-id="b75ab-201">Alpine CRM</span><span class="sxs-lookup"><span data-stu-id="b75ab-201">Alpine CRM</span></span> | <span data-ttu-id="b75ab-202">Аниса Комарова</span><span class="sxs-lookup"><span data-stu-id="b75ab-202">Ashley Chinn</span></span> | <span data-ttu-id="b75ab-203">Руководитель проекта</span><span class="sxs-lookup"><span data-stu-id="b75ab-203">Project Mgr</span></span>   | <span data-ttu-id="b75ab-204">Оплачивается</span><span class="sxs-lookup"><span data-stu-id="b75ab-204">Chargeable</span></span>   | <span data-ttu-id="b75ab-205">8.0</span><span class="sxs-lookup"><span data-stu-id="b75ab-205">8.0</span></span>      | <span data-ttu-id="b75ab-206">50.00</span><span class="sxs-lookup"><span data-stu-id="b75ab-206">50.00</span></span>      | <span data-ttu-id="b75ab-207">400.00</span><span class="sxs-lookup"><span data-stu-id="b75ab-207">400.00</span></span> |
    | <span data-ttu-id="b75ab-208">03.02.18</span><span class="sxs-lookup"><span data-stu-id="b75ab-208">2/3/18</span></span>        | <span data-ttu-id="b75ab-209">Продажи без выставления счета</span><span class="sxs-lookup"><span data-stu-id="b75ab-209">Unbilled sales</span></span>   | <span data-ttu-id="b75ab-210">Time</span><span class="sxs-lookup"><span data-stu-id="b75ab-210">Time</span></span>              | <span data-ttu-id="b75ab-211">Alpine ski house</span><span class="sxs-lookup"><span data-stu-id="b75ab-211">Alpine ski house</span></span> | <span data-ttu-id="b75ab-212">Alpine CRM</span><span class="sxs-lookup"><span data-stu-id="b75ab-212">Alpine CRM</span></span> | <span data-ttu-id="b75ab-213">Аниса Комарова</span><span class="sxs-lookup"><span data-stu-id="b75ab-213">Ashley Chinn</span></span> | <span data-ttu-id="b75ab-214">Руководитель проекта</span><span class="sxs-lookup"><span data-stu-id="b75ab-214">Project Mgr</span></span>   | <span data-ttu-id="b75ab-215">Оплачивается</span><span class="sxs-lookup"><span data-stu-id="b75ab-215">Chargeable</span></span>   | <span data-ttu-id="b75ab-216">8.0</span><span class="sxs-lookup"><span data-stu-id="b75ab-216">8.0</span></span>      | <span data-ttu-id="b75ab-217">100.00</span><span class="sxs-lookup"><span data-stu-id="b75ab-217">100.00</span></span>     | <span data-ttu-id="b75ab-218">800.00</span><span class="sxs-lookup"><span data-stu-id="b75ab-218">800.00</span></span> |

    <span data-ttu-id="b75ab-219">Это две отдельные, но связанные записи.</span><span class="sxs-lookup"><span data-stu-id="b75ab-219">These two records are separate but related records.</span></span> <span data-ttu-id="b75ab-220">Они не являются ни дебитом, ни кредитом.</span><span class="sxs-lookup"><span data-stu-id="b75ab-220">They are neither debits nor credits.</span></span>

4. <span data-ttu-id="b75ab-221">Если контракт связан с проектом, когда за запись времени выставляется счет, в сущности **Факт** создаются еще две записи.</span><span class="sxs-lookup"><span data-stu-id="b75ab-221">If a contract is associated with the project, when the time entry is invoiced, two more records are created in the **Actual** entity.</span></span> <span data-ttu-id="b75ab-222">Во-первых, создается отрицательная сумма для записи продаж, за которую не выставлен счет.</span><span class="sxs-lookup"><span data-stu-id="b75ab-222">First, a negative amount for the unbilled sales record is created.</span></span> <span data-ttu-id="b75ab-223">Эта запись в целом обращает продажу без выставления счета.</span><span class="sxs-lookup"><span data-stu-id="b75ab-223">This record essentially reverses the unbilled sale.</span></span> <span data-ttu-id="b75ab-224">Во-вторых, создается транзакция для продажи с выставленным счетом.</span><span class="sxs-lookup"><span data-stu-id="b75ab-224">Second, a transaction for the billed sale is created.</span></span> <span data-ttu-id="b75ab-225">Еще раз, это отдельные, но связанные записи, которые не являются ни дебитом, ни кредитом.</span><span class="sxs-lookup"><span data-stu-id="b75ab-225">Once again, these records are separate but related records, not debits and credits.</span></span>

    | <span data-ttu-id="b75ab-226">Дата документа</span><span class="sxs-lookup"><span data-stu-id="b75ab-226">Document date</span></span> | <span data-ttu-id="b75ab-227">Тип проводки</span><span class="sxs-lookup"><span data-stu-id="b75ab-227">Transaction type</span></span> | <span data-ttu-id="b75ab-228">Класс проводки</span><span class="sxs-lookup"><span data-stu-id="b75ab-228">Transaction class</span></span> | <span data-ttu-id="b75ab-229">Клиент</span><span class="sxs-lookup"><span data-stu-id="b75ab-229">Customer</span></span>         | <span data-ttu-id="b75ab-230">Контракт</span><span class="sxs-lookup"><span data-stu-id="b75ab-230">Contract</span></span>   | <span data-ttu-id="b75ab-231">Ресурс</span><span class="sxs-lookup"><span data-stu-id="b75ab-231">Resource</span></span>     | <span data-ttu-id="b75ab-232">Роль ресурса</span><span class="sxs-lookup"><span data-stu-id="b75ab-232">Resource role</span></span> | <span data-ttu-id="b75ab-233">Тип выставления счета</span><span class="sxs-lookup"><span data-stu-id="b75ab-233">Billing type</span></span> | <span data-ttu-id="b75ab-234">Количество</span><span class="sxs-lookup"><span data-stu-id="b75ab-234">Quantity</span></span> | <span data-ttu-id="b75ab-235">Цена единицы</span><span class="sxs-lookup"><span data-stu-id="b75ab-235">Unit price</span></span> | <span data-ttu-id="b75ab-236">Сумма</span><span class="sxs-lookup"><span data-stu-id="b75ab-236">Amount</span></span>   |
    |---------------|------------------|-------------------|------------------|------------|--------------|---------------|--------------|----------|------------|----------|
    | <span data-ttu-id="b75ab-237">04.02.18</span><span class="sxs-lookup"><span data-stu-id="b75ab-237">2/4/18</span></span>        | <span data-ttu-id="b75ab-238">Продажи без выставления счета</span><span class="sxs-lookup"><span data-stu-id="b75ab-238">Unbilled sales</span></span>   | <span data-ttu-id="b75ab-239">Time</span><span class="sxs-lookup"><span data-stu-id="b75ab-239">Time</span></span>              | <span data-ttu-id="b75ab-240">Alpine ski house</span><span class="sxs-lookup"><span data-stu-id="b75ab-240">Alpine ski house</span></span> | <span data-ttu-id="b75ab-241">Alpine CRM</span><span class="sxs-lookup"><span data-stu-id="b75ab-241">Alpine CRM</span></span> | <span data-ttu-id="b75ab-242">Аниса Комарова</span><span class="sxs-lookup"><span data-stu-id="b75ab-242">Ashley Chinn</span></span> | <span data-ttu-id="b75ab-243">Руководитель проекта</span><span class="sxs-lookup"><span data-stu-id="b75ab-243">Project Mgr</span></span>   | <span data-ttu-id="b75ab-244">Оплачивается</span><span class="sxs-lookup"><span data-stu-id="b75ab-244">Chargeable</span></span>   | <span data-ttu-id="b75ab-245">- 8,0</span><span class="sxs-lookup"><span data-stu-id="b75ab-245">- 8.0</span></span>    | <span data-ttu-id="b75ab-246">100.00</span><span class="sxs-lookup"><span data-stu-id="b75ab-246">100.00</span></span>     | <span data-ttu-id="b75ab-247">- 800,00</span><span class="sxs-lookup"><span data-stu-id="b75ab-247">- 800.00</span></span> |
    | <span data-ttu-id="b75ab-248">04.02.18</span><span class="sxs-lookup"><span data-stu-id="b75ab-248">2/4/18</span></span>        | <span data-ttu-id="b75ab-249">Продажи с выставлением счета</span><span class="sxs-lookup"><span data-stu-id="b75ab-249">Billed sales</span></span>     | <span data-ttu-id="b75ab-250">Time</span><span class="sxs-lookup"><span data-stu-id="b75ab-250">Time</span></span>              | <span data-ttu-id="b75ab-251">Alpine ski house</span><span class="sxs-lookup"><span data-stu-id="b75ab-251">Alpine ski house</span></span> | <span data-ttu-id="b75ab-252">Alpine CRM</span><span class="sxs-lookup"><span data-stu-id="b75ab-252">Alpine CRM</span></span> | <span data-ttu-id="b75ab-253">Аниса Комарова</span><span class="sxs-lookup"><span data-stu-id="b75ab-253">Ashley Chinn</span></span> | <span data-ttu-id="b75ab-254">Руководитель проекта</span><span class="sxs-lookup"><span data-stu-id="b75ab-254">Project Mgr</span></span>   | <span data-ttu-id="b75ab-255">Оплачивается</span><span class="sxs-lookup"><span data-stu-id="b75ab-255">Chargeable</span></span>   | <span data-ttu-id="b75ab-256">8.0</span><span class="sxs-lookup"><span data-stu-id="b75ab-256">8.0</span></span>      | <span data-ttu-id="b75ab-257">100.00</span><span class="sxs-lookup"><span data-stu-id="b75ab-257">100.00</span></span>     | <span data-ttu-id="b75ab-258">800.00</span><span class="sxs-lookup"><span data-stu-id="b75ab-258">800.00</span></span>   |

<span data-ttu-id="b75ab-259">Сущность **Происхождение проводки** содержит происхождение записи **Факт**, а сущность **Подключение проводки** содержит связанные записи для записи **Факт**.</span><span class="sxs-lookup"><span data-stu-id="b75ab-259">The **Transaction Origin** entity records the origin of the **Actual** record, and the **Transaction Connection** entity records the related records for the **Actual** record.</span></span> <span data-ttu-id="b75ab-260">Кроме того, запись **Факт** содержит ссылки на проект, контракт по проекту (заказ), резервируемый ресурс и клиента.</span><span class="sxs-lookup"><span data-stu-id="b75ab-260">Additionally, the **Actual** record contains references the project, project contract (order), bookable resource, and customer.</span></span>

<span data-ttu-id="b75ab-261">![Диаграмма, показывающая взаимосвязь соединения транзакции, источника и фактических данных](media/PS-Reporting-image6.png "Диаграмма, показывающая взаимосвязь соединения транзакции, источника и фактических данных")</span><span class="sxs-lookup"><span data-stu-id="b75ab-261">![Diagram showing transaction connection, origin and actual relationships](media/PS-Reporting-image6.png "Diagram showing transaction connection, origin and actual relationships")</span></span>
