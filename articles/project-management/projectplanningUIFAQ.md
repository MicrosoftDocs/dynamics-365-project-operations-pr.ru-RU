---
title: Устранение неполадок при работе в сетке задач
description: Эта статья содержит инструкции по устранению неполадок, необходимые при работе с сеткой задач.
author: ruhercul
ms.date: 07/22/2022
ms.topic: article
ms.product: ''
ms.reviewer: johnmichalak
ms.author: ruhercul
ms.openlocfilehash: 208ed55abf4cdf0ad2b035bd923e183ff3cae660
ms.sourcegitcommit: e91136d3335ee03db660529eccacd48907774453
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/22/2022
ms.locfileid: "9188248"
---
# <a name="troubleshoot-working-in-the-task-grid"></a>Устранение неполадок при работе в сетке задач 


_**Относится к:** Project Operations для сценариев на основе ресурсов/нескладируемых материалов запасов, упрощенное развертывание — от сделки до счетов-проформ, Project for the Web_

Сетка задач, используемая Dynamics 365 Project Operations, — это iFrame, размещенный в Microsoft Dataverse. В результате такого использования должны быть выполнены определенные требования, чтобы гарантировать правильную работу аутентификации и авторизации. В этой статье описаны распространенные проблемы, которые могут повлиять на способность отображать сетку или управлять задачами в структурной декомпозиции работ (WBS).

Общие проблемы:

- Вкладка **Задача** в сетке задач пуста.
- При открытии проекта проект не загружается, и пользовательский интерфейс (UI) зависает на счетчике.
- Администрирование льгот для **Project for the Web**.
- Изменения не сохраняются при создании, обновлении или удалении задачи.

## <a name="issue-the-task-tab-is-empty"></a>Проблема: вкладка "Задача" пуста

### <a name="mitigation-1-enable-cookies"></a>Решение 1: включить файлы cookie

Project Operations требует, чтобы сторонние файлы cookie были включены для визуализации структурной декомпозиции работ. Если сторонние файлы cookie не включены, вместо просмотра задач вы увидите пустую страницу при выборе вкладка **Задачи** на страница **Проект**.

Для браузеров Microsoft Edge или Google Chrome, следующие процедуры описывают, как обновить настройки вашего браузера, чтобы включить сторонние файлы cookie.

#### <a name="microsoft-edge"></a>Microsoft Edge

1. Откройте браузер Edge.
2. В правом верхнем углу нажмите **Многоточие** (...) и выберите **Параметры**.
3. Под **Файлы cookie и разрешения для сайтов**, выбрать **Файлы cookie и данные сайтов**.
4. Выключить **Блокировать сторонние файлы cookie**.
5. Обновите свой браузер. 

#### <a name="google-chrome"></a>Google Chrome

1. Откройте браузер Chrome.
2. В правом верхнем углу выберите три вертикальные точки, затем выберите **Параметры**.
3. Под **Конфиденциальность и безопасность**, выбрать **Файлы cookie и другие данные сайтов**.
4. Выберите **Разрешить все файлы cookie**.
5. Обновите свой браузер. 

> [!NOTE]
> Если вы заблокируете сторонние файлы cookie, все файлы cookie и данные сайтов с других сайтов будут заблокированы, даже если сайт разрешен в вашем списке исключений.

### <a name="mitigation-2-validate-the-pex-endpoint-has-been-correctly-configured"></a>Решение 2: убедитесь, что конечная точка PEX настроена правильно

Project Operations требует, чтобы параметр проекта ссылался на конечную точку PEX. Эта конечная точка необходима для связи со службой, которая используется для визуализации структурной декомпозиции работ. Если параметр не включен, вы получите сообщение об ошибке "Параметр проекта недействителен". Чтобы обновить конечную точку PEX, выполните следующие действия.

1. Добавить поле **Конечная точка PEX** на страницу **Параметры проекта**.
2. Определите тип продукта, который вы используете. Это значение используется, когда установлена конечная точка PEX. После получения тип продукта уже определен в конечной точке PEX. Сохраните это значение.
3. Обновите поле следующим значением: `https://project.microsoft.com/<lang>/?org=<cdsServer>#/taskgrid?projectId=<id>&type=2`. В следующей таблице представлен параметр типа, который следует использовать в зависимости от типа продукта.

      | **Тип продукта**                     | **Параметр типа** |
      |--------------------------------------|--------------------|
      | Project for the Web в организации по умолчанию   | type=0             |
      | Project for the Web в организации с именем, заданным CDS | type=1             |
      | Project Operations                   | type=2             |

4. Удалите поле со страницы **Параметры проекта**.

### <a name="mitigation-3-sign-in-to-projectmicrosoftcom"></a>Решение 3: вход в систему на project.microsoft.com

В браузере откройте новую вкладку, перейдите на project.microsoft.com и войдите в систему с ролью пользователя, которую вы используете для доступа к Project Operations. Важно, чтобы только один пользователь вошел в систему продукта Microsoft в браузере. Сообщение об ошибке "login.microsoftonline.com отклонил попытку подключения" чаще всего появляется, когда в систему входит более одного пользователя, как показано на следующем рисунке.

![Выберите страницу входа в учетную запись, показывающую, что два пользователя вошли в систему.](media/MULTIPLE_USERS_LOGGED_IN.png)

## <a name="issue-the-project-doesnt-load-and-the-ui-is-stuck-on-the-spinner"></a>Проблема: проект не загружается, и пользовательский интерфейс зависает на счетчике

В целях аутентификации для загрузки сетки задач должны быть включены всплывающие окна. Если всплывающие окна не включены, экран будет зависать на счетчике загрузки. На следующем рисунке показан URL-адрес с заблокированной всплывающей меткой в адресной строке, из-за которой счетчик зависает при попытке загрузить страницу. 

   ![Застревание счетчика и блокировка всплывающих окон.](media/popupsblocked.png)

### <a name="mitigation-1-enable-pop-ups"></a>Решение 1: включить всплывающие окна

Когда ваш проект застревает на счетчике, возможно, не включены всплывающие окна.

#### <a name="microsoft-edge"></a>Microsoft Edge

Есть два способа включить всплывающие окна в браузере Microsoft Edge.

1. В браузере Microsoft Edge выберите уведомление в правом верхнем углу браузера.
2. Выберите **Всегда разрешать всплывающие окна и перенаправления из** конкретной среды Dataverse.
 
     ![Всплывающие окна заблокированы.](media/enablepopups.png)

Либо также можно выполнить следующие действия.

1. Откройте браузер Edge.
2. В правом верхнем углу выберите **многоточие** (...), а затем выберите **Настройки** > **Разрешения сайта** > **Всплывающие окна и перенаправления**.
3. Отключите блокировку всплывающих окон **Всплывающие окна и перенаправления** и включите, чтобы разрешить всплывающие окна на вашем устройстве.
4. После включения всплывающих окон обновите страницу в браузере. 

#### <a name="google-chrome"></a>Google Chrome
1. Откройте браузер Chrome.
2. Перейдите на страницу, где всплывающие окна заблокированы.
3. В адресной строке выберите **Заблокированные всплывающие окна**.
4. Выберите ссылку для всплывающего окна, которое вы хотите увидеть.
5. После включения всплывающих окон обновите страницу в браузере. 

> [!NOTE]
> Чтобы всегда показывать всплывающие окна для сайта, выберите **Всегда разрешать всплывающие окна и перенаправления с [сайт]** и выберите **Готово**.

## <a name="issue-3-administration-of-privileges-for-project-for-the-web"></a>Проблема 3: администрирование льгот для Project for the Web

Project Operations полагается на внешнюю службу планирования. Служба требует, чтобы пользователю было назначено несколько ролей, которые позволяют ему читать и записывать объекты, связанные с WBS. Эти сущности включают задачи проекта, назначения ресурсов и зависимости задач. Если пользователь не может отобразить WBS при переходе на вкладку **Задачи**, вероятно, это потому что **Проект** для **Project Operations** не был включен. Пользователь может получить либо ошибку роли безопасности, либо ошибку, связанную с отказом в доступе.

### <a name="mitigation-1-validate-the-application-user-and-end-user-security-roles"></a>Решение 1: проверьте роли безопасности пользователя приложения и конечного пользователя

1. Перейдите к **Параметр** > **Безопасность** > **Пользователи** > **Пользователи приложения**.  

   ![Читатель приложения.](media/applicationuser.jpg)
   
2. Дважды щелкните запись пользователя приложения, чтобы проверить:

     - Пользователь имеет доступ к проекту. Вы можете сделать это, убедившись, что у пользователя есть роль безопасности **Руководитель проекта**.
     - Пользователь приложения Microsoft Project существует и настроен правильно.
 
3. Если этого пользователя не существует, создайте новую запись пользователя. 
4. Выберите **Создать пользователей**, измените форму заявки на **Пользователь приложения**, а затем добавьте **Идентификатор приложения**.

   ![Сведения о пользователе приложения.](media/applicationuserdetails.jpg)


## <a name="issue-4-changes-arent-saved-when-you-create-update-or-delete-a-task"></a>Проблема 4: изменения не сохраняются при создании, обновлении или удалении задачи

Когда вы делаете одно или несколько обновлений в WBS, изменения не выполняются и не сохраняются. В таблице расписания возникает ошибка с сообщением: «Последние внесенные вами изменения не могут быть сохранены».

### <a name="mitigation-1-validate-the-license-assignment"></a>Решение 1: проверьте назначение лицензии

1. Убедитесь, что пользователю назначена правильная лицензия и что служба включена в сведениях о тарифных планах лицензии.  
2. Убедитесь, что пользователь может открыть **project.microsoft.com**.
    
### <a name="mitigation-2-validation-configuration-of-the-project-application-user"></a>Решение 2: конфигурация проверки пользователя приложения проекта
1. Убедитесь, что пользователь приложения проекта создан.
2. Примените к пользователю следующие роли безопасности:
  
  - Пользователь Dataverse или базовый пользователь
  - Система Project Operations
  - Система проектов
  - Система двойной записи Project Operations. Эта роль требуется для сценария развертывания Project Operations на основе ресурсов/нескладируемых материалов.


[!INCLUDE[footer-include](../includes/footer-banner.md)]
